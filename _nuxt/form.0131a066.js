import{_ as Me}from"./HeaderCustom.vue.2274acf9.js";import{_ as le}from"./Search.cd740c5d.js";import{_ as qe}from"./Delete.797ef27c.js";import{_ as ee}from"./_plugin-vue_export-helper.c27b6911.js";import{o,c as a,a as e,q as oe,r as v,g as ae,z as N,M as ne,b as g,G as ve,A as Z,B as t,H as E,N as ie,I as J,J as ce,K as W,t as p,L as me,p as he,e as ye,C as U,D as G,n as we,P as k,u as Te,s as Le,v as Re,x as He,y as Oe,Q as fe,R as pe}from"./entry.a58c45cf.js";import{_ as Be}from"./Times.bc001055.js";import{_ as Ue}from"./InputPointFormat.vue.52a40116.js";import{_ as Ve}from"./Plus.fa128eb4.js";import{_ as xe}from"./HeaderPopup.vue.2983f6f3.js";import{u as be}from"./useUtils.100f5b4a.js";import{u as X}from"./useMyFetch.bcdb1556.js";const ze={name:"TablerTools"},Fe={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Pe=e("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[e("path",{d:"M3 21h4L20 8a1.5 1.5 0 0 0-4-4L3 17zM14.5 5.5l4 4"}),e("path",{d:"M12 8L7 3L3 7l5 5M7 8L5.5 9.5M16 12l5 5l-4 4l-5-5m4 1l-1.5 1.5"})],-1),We=[Pe];function Ke(_,h,$,q,m,u){return o(),a("svg",Fe,We)}const Ye=ee(ze,[["render",Ke]]);const O=_=>(he("data-v-5d0aa6be"),_=_(),ye(),_),Je={class:"box-fixed"},Ee={action:"#",class:"w-full flex p-1"},Qe={class:"grow"},Ze=O(()=>e("div",{class:"font-bold"}," Keyword ",-1)),Ge={class:"pl-1"},Xe=O(()=>e("div",{class:"font-bold"}," Sort By ",-1)),et=O(()=>e("option",{value:"created_at"},"Created At",-1)),tt=O(()=>e("option",{value:"id"},"ID",-1)),st=O(()=>e("option",{value:"name"},"Nama",-1)),lt=[et,tt,st],ot={class:"pl-1"},at=O(()=>e("div",{class:"font-bold"}," Sort Order ",-1)),nt=O(()=>e("option",{value:"asc"},"Asc",-1)),it=O(()=>e("option",{value:"desc"},"Desc",-1)),ct=[nt,it],rt={class:"flex items-end pl-1"},ut={class:"w-full flex justify-center items-center grow h-0 p-1"},dt={key:0,class:""},_t={class:"tacky"},ft=O(()=>e("thead",null,[e("tr",{class:"sticky top-0 !z-[2]"},[e("th",null,"No."),e("th",null,"ID"),e("th",null,"Name"),e("th",null,"Unit"),e("th",null,"Created At"),e("th",null,"Updated At")])],-1)),pt=["onClick"],vt={class:"bold"},mt={class:"flex",style:{"justify-content":"end",padding:"5px"}},ht={__name:"items",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},fnSelect:{type:Function,required:!1},excludes:{type:String,required:!1},exclude_lists:{type:Array,required:!1}},setup(_){const h=_,{$moment:$}=me(),{countClickListFn:q}=be(),m=oe("token"),u=v([]),y=v(""),w=v({field:"created_at",by:"desc"}),S=v(-1),s=v({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),n={};n._TimeZoneOffset=new Date().getTimezoneOffset();const b=()=>{n.like="",y.value!=""&&(n.like=`id:%${y.value}%,name:%${y.value}%`),n.sort="",w.value.field&&(n.sort=w.value.field+":"+w.value.by)},I=v(null),M=async()=>{U().loading_full=!0,s.value.may_get_data=!1,n.page=s.value.page,n.page==1&&(u.value=[]),h.exclude_lists&&(n.exclude_lists=JSON.stringify(h.exclude_lists)),n.first_row&&delete n.first_row,n.page>1&&(n.first_row=JSON.stringify(u.value[0]));const{data:d,error:i,status:A}=await X("/api/items",{method:"get",headers:{Authorization:`Bearer ${m.value}`,Accept:"application/json"},params:n,retry:0});if(U().loading_full=!1,s.value.may_get_data=!0,A.value==="error"){G().trigger(i);return}s.value.page==1?(u.value=d.value.data,I.value&&(I.value.scrollTop=0)):s.value.page>1&&(u.value=[...u.value,...d.value.data]),d.value.data.length==0&&(s.value.is_last_record=!0)},K=async()=>{if(!s.value.may_get_data)return;let d=I.value;if(d.scrollLeft!=s.value.scrollLeft){s.value.scrollLeft=d.scrollLeft;return}s.value.is_last_record||!(Math.round(d.scrollTop)+d.clientHeight>=d.scrollHeight-1)||(s.value.page++,await M())},V=()=>{s.value.page=1,s.value.is_last_record=!1,b(),M()},z=()=>{S.value>-1?h.fnSelect(u.value[S.value]):h.fnSelect({id:"",name:""})};return ae(()=>h.show,(d,i)=>{d==!0&&V()},{immediate:!0}),(d,i)=>{const A=xe,F=le;return N((o(),a("section",Je,[e("div",null,[g(A,{title:"Search And Select Item",fn:_.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),e("form",Ee,[e("div",Qe,[Ze,N(e("input",{class:"",type:"text","onUpdate:modelValue":i[0]||(i[0]=r=>ve(y)?y.value=r:null),name:"search",placeholder:"Keyword"},null,512),[[Z,t(y)]])]),e("div",Ge,[Xe,N(e("select",{class:"","onUpdate:modelValue":i[1]||(i[1]=r=>t(w).field=r)},lt,512),[[E,t(w).field]])]),e("div",ot,[at,N(e("select",{class:"","onUpdate:modelValue":i[2]||(i[2]=r=>t(w).by=r)},ct,512),[[E,t(w).by]])]),e("div",rt,[e("button",{class:"",type:"submit",name:"button",onClick:i[3]||(i[3]=ie(r=>V(),["prevent"]))},[g(F,{class:"text-2xl"})])])]),e("div",ut,[t(u).length==0?(o(),a("div",dt," Maaf Tidak Ada Record ")):(o(),a("div",{key:1,class:"w-full h-full overflow-auto",role:"sticky",ref_key:"loadRef",ref:I,onScroll:K},[e("table",_t,[ft,e("tbody",null,[(o(!0),a(J,null,ce(t(u),(r,C)=>(o(),a("tr",{key:C,onClick:te=>t(q)(C,()=>{S.value=C},z),class:W(t(S)==C?"active":"")},[e("td",null,p(C+1)+".",1),e("td",vt,p(r.id),1),e("td",null,p(r.name),1),e("td",null,p(r.unit.name),1),e("td",null,p(t($)(r.created_at).format("DD-MM-Y HH:mm:ss")),1),e("td",null,p(t($)(r.updated_at).format("DD-MM-Y HH:mm:ss")),1)],10,pt))),128))])])],544))]),e("div",mt,[e("button",{onClick:i[4]||(i[4]=r=>z()),class:"w-36 m-1 bg-blue-600 text-white rounded-sm"}," Select ")])])],512)),[[ne,_.show]])}}},yt=ee(ht,[["__scopeId","data-v-5d0aa6be"]]);const B=_=>(he("data-v-4f710149"),_=_(),ye(),_),wt={class:"box-fixed"},xt={action:"#",class:"w-full flex p-1"},bt={class:"grow"},gt=B(()=>e("div",{class:"font-bold"}," Keyword ",-1)),kt={class:"pl-1"},$t=B(()=>e("div",{class:"font-bold"}," Sort By ",-1)),St=B(()=>e("option",{value:"created_at"},"Created At",-1)),Ct=B(()=>e("option",{value:"id"},"ID",-1)),It=B(()=>e("option",{value:"name"},"Nama",-1)),At=[St,Ct,It],Dt={class:"pl-1"},Nt=B(()=>e("div",{class:"font-bold"}," Sort Order ",-1)),jt=B(()=>e("option",{value:"asc"},"Asc",-1)),Mt=B(()=>e("option",{value:"desc"},"Desc",-1)),qt=[jt,Mt],Tt={class:"flex items-end pl-1"},Lt={class:"w-full flex justify-center items-center grow h-0 p-1"},Rt={key:0,class:""},Ht={class:"tacky"},Ot=B(()=>e("thead",null,[e("tr",{class:"sticky top-0 !z-[2]"},[e("th",null,"No."),e("th",null,"ID"),e("th",null,"Name"),e("th",null,"Created At"),e("th",null,"Updated At")])],-1)),Bt=["onClick"],Ut={class:"bold"},Vt={class:"flex",style:{"justify-content":"end",padding:"5px"}},zt={__name:"hrm_revisi_lokasis",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},fnSelect:{type:Function,required:!1},opt:{type:String,required:!1},exclude:{type:Number,required:!1},exclude_lists:{type:Array,required:!1}},setup(_){const h=_,{$moment:$}=me(),{countClickListFn:q}=be(),m=oe("token"),u=v([]),y=v(""),w=v({field:"created_at",by:"desc"}),S=v(-1),s=v({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),n={};n._TimeZoneOffset=new Date().getTimezoneOffset();const b=()=>{n.like="",y.value!=""&&(n.like=`id:%${y.value}%,name:%${y.value}%`),n.sort="",w.value.field&&(n.sort=w.value.field+":"+w.value.by)},I=v(null),M=async()=>{U().loading_full=!0,s.value.may_get_data=!1,n.opt=h.opt,n.exclude=h.exclude,n.page=s.value.page,n.page==1&&(u.value=[]),n.first_row&&delete n.first_row,n.page>1&&(n.first_row=JSON.stringify(u.value[0]));const{data:d,error:i,status:A}=await X("/api/hrm_revisi_lokasis",{method:"get",headers:{Authorization:`Bearer ${m.value}`,Accept:"application/json"},params:n,retry:0});if(U().loading_full=!1,s.value.may_get_data=!0,A.value==="error"){G().trigger(i);return}s.value.page==1?(u.value=d.value.data,I.value&&(I.value.scrollTop=0)):s.value.page>1&&(u.value=[...u.value,...d.value.data]),d.value.data.length==0&&(s.value.is_last_record=!0)},K=async()=>{if(!s.value.may_get_data)return;let d=I.value;if(d.scrollLeft!=s.value.scrollLeft){s.value.scrollLeft=d.scrollLeft;return}s.value.is_last_record||!(Math.round(d.scrollTop)+d.clientHeight>=d.scrollHeight-1)||(s.value.page++,await M())},V=()=>{s.value.page=1,s.value.is_last_record=!1,b(),M()},z=()=>{S.value>-1?h.fnSelect(u.value[S.value]):h.fnSelect({id:"",name:""})};return ae(()=>h.show,(d,i)=>{d==!0&&V()},{immediate:!0}),(d,i)=>{const A=xe,F=le;return N((o(),a("section",wt,[e("div",null,[g(A,{title:"Search And Select Warehouse",fn:_.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),e("form",xt,[e("div",bt,[gt,N(e("input",{class:"",type:"text","onUpdate:modelValue":i[0]||(i[0]=r=>ve(y)?y.value=r:null),name:"search",placeholder:"Keyword"},null,512),[[Z,t(y)]])]),e("div",kt,[$t,N(e("select",{class:"","onUpdate:modelValue":i[1]||(i[1]=r=>t(w).field=r)},At,512),[[E,t(w).field]])]),e("div",Dt,[Nt,N(e("select",{class:"","onUpdate:modelValue":i[2]||(i[2]=r=>t(w).by=r)},qt,512),[[E,t(w).by]])]),e("div",Tt,[e("button",{class:"",type:"submit",name:"button",onClick:i[3]||(i[3]=ie(r=>V(),["prevent"]))},[g(F,{class:"text-2xl"})])])]),e("div",Lt,[t(u).length==0?(o(),a("div",Rt," Maaf Tidak Ada Record ")):(o(),a("div",{key:1,class:"w-full h-full overflow-auto",role:"sticky",ref_key:"loadRef",ref:I,onScroll:K},[e("table",Ht,[Ot,e("tbody",null,[(o(!0),a(J,null,ce(t(u),(r,C)=>(o(),a("tr",{key:C,onClick:te=>t(q)(C,()=>{S.value=C},z),class:W(t(S)==C?"active":"")},[e("td",null,p(C+1)+".",1),e("td",Ut,p(r.id),1),e("td",null,p(r.name),1),e("td",null,p(t($)(r.created_at).format("DD-MM-Y HH:mm:ss")),1),e("td",null,p(t($)(r.updated_at).format("DD-MM-Y HH:mm:ss")),1)],10,Bt))),128))])])],544))]),e("div",Vt,[e("button",{onClick:i[4]||(i[4]=r=>z()),class:"w-36 m-1 bg-blue-600 text-white rounded-sm"}," Select ")])])],512)),[[ne,_.show]])}}},Ft=ee(zt,[["__scopeId","data-v-4f710149"]]),Pt=we({__name:"ToolsPopup",props:{show:{type:Boolean,required:!0},coor:{type:Object,required:!1},fn:{type:Function,required:!0},only:{type:Object}},setup(_){const h=_,$=v(null),q=m=>{m.target.classList.contains("box")&&h.fn()};return ae(()=>h.coor,(m,u)=>{m&&$.value&&($.value.style.left=m.left+"px",$.value.style.top=m.top+"px")},{immediate:!0,deep:!0}),(m,u)=>N((o(),a("div",{class:"box",onClick:u[2]||(u[2]=y=>q(y))},[e("div",{ref_key:"popup",ref:$},[e("ul",null,[!_.only||_.only.length==0||_.only.indexOf("insert")>-1?(o(),a("li",{key:0,onClick:u[0]||(u[0]=y=>m.$emit("replyAct","insert"))},"Insert")):k("",!0),!_.only||_.only.length==0||_.only.indexOf("delete")>-1?(o(),a("li",{key:1,onClick:u[1]||(u[1]=y=>m.$emit("replyAct","delete"))},"Delete")):k("",!0)])],512)],512)),[[ne,_.show]])}});const Wt=ee(Pt,[["__scopeId","data-v-cde7f964"]]),Kt={class:"w-full h-full flex flex-col"},Yt={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},Jt={class:"w-full flex flex-col items-center justify-center grow overflow-auto"},Et={class:"w-full flex flex-row flex-wrap"},Qt={key:0,class:"w-full flex flex-col flex-wrap p-1"},Zt=e("label",{for:""},"Input At",-1),Gt={class:"card-border"},Xt={class:"w-full flex flex-col flex-wrap p-1"},es=e("label",{for:""},"Type",-1),ts=["disabled"],ss=e("option",{value:"used"},"Used",-1),ls=e("option",{value:"in"},"In",-1),os=e("option",{value:"transfer"},"Transfer",-1),as=[ss,ls,os],ns={class:"text-red-500"},is={class:"w-full flex flex-col flex-wrap p-1"},cs=e("label",{for:""},"From Warehouse",-1),rs={class:"card-border flex flex-row flex-wrap"},us={key:0,class:"w-full flex"},ds=e("div",{class:"flex items-center grow p-1"}," Pilih Warehouse yang dikelola ",-1),_s={class:"flex flex-row flex-wrap grow"},fs={class:"p-1"},ps=e("div",{class:"text-sm text-gray-600"},"ID",-1),vs={class:"bold"},ms={class:"p-1"},hs=e("div",{class:"text-sm text-gray-600"},"Name",-1),ys={class:"bold"},ws={class:"flex flex-row flex-wrap grow"},xs={class:"p-1"},bs=e("div",{class:"text-sm text-gray-600"},"ID",-1),gs={class:"bold"},ks={class:"p-1"},$s=e("div",{class:"text-sm text-gray-600"},"Name",-1),Ss={class:"bold"},Cs={class:"text-red-500"},Is={key:1,class:"w-full flex flex-col flex-wrap p-1"},As=e("label",{for:""},"To Warehouse",-1),Ds={class:"card-border flex flex-row flex-wrap"},Ns={key:0,class:"w-full flex"},js=e("div",{class:"flex items-center grow p-1"}," Pilih Warehouse Target ",-1),Ms={class:"flex flex-row flex-wrap grow"},qs={class:"p-1"},Ts=e("div",{class:"text-sm text-gray-600"},"ID",-1),Ls={class:"bold"},Rs={class:"p-1"},Hs=e("div",{class:"text-sm text-gray-600"},"Name",-1),Os={class:"bold"},Bs={class:"text-red-500"},Us={class:"w-full flex flex-col flex-wrap p-1"},Vs=e("label",{for:""},"Note",-1),zs=["disabled"],Fs={class:"text-red-500"},Ps={class:"w-full flex grow p-1 overflow-auto"},Ws={role:"sticky",ref:"loadRef"},Ks={class:"tacky w-full",style:{"white-space":"normal"}},Ys={class:"sticky top-0 !z-[2]"},Js={key:0,class:"min-w-[50px] !w-[50px] max-w-[50px]"},Es=e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"No",-1),Qs={key:1,class:"min-w-[50px] !w-[50px] max-w-[50px]"},Zs=e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"ID Item",-1),Gs=e("th",null,"Nama Item",-1),Xs=e("th",{class:"min-w-[80px] !w-[80px] max-w-[80px]"},"Qty In",-1),el=e("th",{class:"min-w-[80px] !w-[80px] max-w-[80px]"},"Qty Out",-1),tl=e("th",null,"Keterangan",-1),sl={key:0},ll={key:0,class:"tools cell"},ol={class:"w-full h-full flex items-center justify-center"},al=["onClick"],nl={key:1,class:"cell"},il={class:"w-full h-full flex items-center justify-center"},cl=["onClick"],rl=["onClick","disabled"],ul={class:"w-full h-full flex items-center justify-center"},dl={class:"w-full h-full flex items-center justify-center"},_l={class:"cell"},fl={class:"w-full h-full flex items-center justify-center"},pl={class:"cell"},vl={class:"w-full h-full flex items-center justify-center"},ml={class:"cell"},hl={class:"w-full h-full flex items-center justify-center"},yl=["disabled","onUpdate:modelValue"],wl={key:0},xl={class:"tools cell"},bl={class:"w-full flex items-center justify-end"},ql=we({__name:"form",async setup(_){var ue,de,_e;let h,$;Te();const q=oe("token"),m=v({}),u=Le(),y=Re();let w={id:"",name:""};const{data:S}=([h,$]=He(async()=>Oe(async()=>{const c=y.query.id;let l=null,D=null,L=null;if(c!==void 0&&c!==""){U().loading_full=!0;const{data:R,error:Y,status:se}=await X("/api/transaction",{method:"get",headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},params:{id:c},retry:0});U().loading_full=!1,se.value==="error"?G().trigger(Y,m):(l=R.value.data,L=R.value.data.details.map(H=>(H.status="Edit",H.key=H.ordinal,H)),D=R.value.data.details.map(H=>H.item.id))}return{transaction:l,exclude_lists:D,details:L}},"$RAej7t9zIe")),h=await h,$(),h),s=v(((ue=S.value)==null?void 0:ue.transaction)||{id:-1,type:"used",note:"",warehouse:{...w},warehouse_target:{...w},details:[]}),n=v(((de=S.value)==null?void 0:de.exclude_lists)||[]),b=v(((_e=S.value)==null?void 0:_e.details)||[]),I=v({ordinal:0,item:{id:"",name:"",unit:{id:"",name:""}},item_id:"",qty_in:0,qty_out:0,note:"",status:""}),M=v(!1),K=()=>{M.value=!1},V=c=>{b.value[T.value].item=c,b.value[T.value].item_id=c.id,n.value.push(c.id),M.value=!1},z=(c,l)=>{T.value=l,M.value=!0},d=(c,l)=>{let D=b.value[l].item.id,L=n.value.indexOf(D);L>-1&&n.value.splice(L,1),b.value[l].item_id="",b.value[l].item={id:"",name:"",unit:{id:"",name:""}}};let i=v(!1),A="";const F=c=>{c=="from"?s.value.warehouse={...w}:c=="to"&&(s.value.warehouse_target={...w})},r=c=>{A=c,i.value=!0},C=()=>{i.value=!1},te=c=>{A=="from"?s.value.warehouse={...c}:A=="to"&&(s.value.warehouse_target={...c}),i.value=!1},ge=async()=>{U().loading_full=!0,m.value={};let c={type:s.value.type,note:s.value.note,warehouse_id:s.value.warehouse.id,warehouse_target_id:s.value.warehouse_target.id,details:JSON.stringify(b.value)},l="post",D=y.query.id;D===""||(l="put",c.id=D);const{data:L,error:R,status:Y}=await X("/api/transaction",{method:l,headers:{Authorization:`Bearer ${q.value}`,Accept:"application/json"},body:c,retry:0});if(U().loading_full=!1,Y.value==="error"){G().trigger(R,m);return}u.go(-1)},ke=fe(()=>{var c,l;return((c=s.value.warehouse)==null?void 0:c.id)||((l=s.value.warehouse_target)==null?void 0:l.id)||0}),T=v(-1),Q=v(!1),re=v({left:0,top:0}),$e=(c,l)=>{T.value=l,Q.value=!0,re.value={left:c.clientX,top:c.clientY}},Se=()=>{b.value.push({...I.value,status:"Add"})},Ce=()=>{Q.value=!1},Ie=(c="")=>{if(c=="insert")b.value.splice(T.value,0,{...I.value,status:"Add"});else if(c=="delete"){let l=b.value[T.value].item.id,D=n.value.indexOf(l);D>-1&&n.value.splice(D,1),b.value[T.value].status=="Edit"?b.value[T.value].status="Remove":b.value.splice(T.value,1)}Q.value=!1},x=fe(()=>s.value.confirmed_by||s.value.ref_id!=null);return(c,l)=>{const D=Me,L=le,R=qe,Y=Ye,se=Be,H=Ue,Ae=Ve,De=yt,Ne=Ft,je=Wt;return o(),a(J,null,[e("div",Kt,[g(D,{title:"Form Item",back:!0}),e("form",Yt,[e("div",Jt,[e("div",Et,[t(s).confirmed_by?(o(),a("div",Qt,[Zt,e("div",Gt,p(c.$moment(t(s).input_at).format("DD-MM-Y")),1)])):k("",!0),e("div",Xt,[es,N(e("select",{disabled:t(x),class:"","onUpdate:modelValue":l[0]||(l[0]=f=>t(s).type=f)},as,8,ts),[[E,t(s).type]]),e("p",ns,p(t(m).type),1)]),e("div",is,[cs,e("div",rs,[!t(s).warehouse||!t(s).warehouse.id?(o(),a("div",us,[e("button",{type:"button",onClick:l[1]||(l[1]=f=>r("from")),class:"flex items-center grow"},[g(L,{class:"text-2xl text-black"}),ds])])):t(s).ref_id==null?(o(),a("div",{key:1,class:W(["w-full flex",t(x)?"unselectable":""]),style:{}},[e("div",_s,[e("div",fs,[ps,e("div",vs,p(t(s).warehouse.id),1)]),e("div",ms,[hs,e("div",ys,p(t(s).warehouse.name),1)])]),t(x)?k("",!0):(o(),a("button",{key:0,type:"button",class:"w-10 bg-red-600 flex items-center justify-center",onClick:l[2]||(l[2]=f=>F("from"))},[g(R,{class:"text-2xl text-white"})]))],2)):t(s).ref_id!=null?(o(),a("div",{key:2,class:W(["w-full flex",t(x)?"unselectable":""]),style:{}},[e("div",ws,[e("div",xs,[bs,e("div",gs,p(t(s).warehouse_source.id),1)]),e("div",ks,[$s,e("div",Ss,p(t(s).warehouse_source.name),1)])]),t(x)?k("",!0):(o(),a("button",{key:0,type:"button",class:"w-10 bg-red-600 flex items-center justify-center",onClick:l[3]||(l[3]=f=>F("from"))},[g(R,{class:"text-2xl text-white"})]))],2)):k("",!0)]),e("p",Cs,p(t(m).warehouse_id),1)]),t(s).type=="transfer"?(o(),a("div",Is,[As,e("div",Ds,[!t(s).warehouse_target||!t(s).warehouse_target.id?(o(),a("div",Ns,[e("button",{type:"button",onClick:l[4]||(l[4]=f=>r("to")),class:"flex items-center grow"},[g(L,{class:"text-2xl text-black"}),js])])):(o(),a("div",{key:1,class:W(["w-full flex",t(x)?"unselectable":""]),style:{}},[e("div",Ms,[e("div",qs,[Ts,e("div",Ls,p(t(s).warehouse_target.id),1)]),e("div",Rs,[Hs,e("div",Os,p(t(s).warehouse_target.name),1)])]),t(x)?k("",!0):(o(),a("button",{key:0,type:"button",class:"w-10 bg-red-600 flex items-center justify-center",onClick:l[5]||(l[5]=f=>F("to"))},[g(R,{class:"text-2xl text-white"})]))],2))]),e("p",Bs,p(t(m).warehouse_target_id),1)])):k("",!0),e("div",Us,[Vs,N(e("textarea",{disabled:t(x),class:"","onUpdate:modelValue":l[6]||(l[6]=f=>t(s).note=f)},null,8,zs),[[Z,t(s).note]]),e("p",Fs,p(t(m).note),1)])]),e("div",Ps,[e("div",Ws,[e("table",Ks,[e("thead",null,[e("tr",Ys,[t(x)?k("",!0):(o(),a("th",Js)),Es,t(x)?k("",!0):(o(),a("th",Qs)),Zs,Gs,Xs,el,tl])]),e("tbody",null,[(o(!0),a(J,null,ce(t(b),(f,P)=>(o(),a(J,{key:P},[f.status!="Remove"?(o(),a("tr",sl,[t(x)?k("",!0):(o(),a("td",ll,[e("div",ol,[e("button",{type:"button",name:"button",onClick:j=>$e(j,P)},[g(Y)],8,al)])])),e("td",null,p(P+1)+".",1),t(x)?k("",!0):(o(),a("td",nl,[e("div",il,[f.item_id?(o(),a("button",{key:1,type:"button",onClick:j=>d(j,P),disabled:f.confirm_by},[g(se,{class:"font-bold text-2xl"})],8,rl)):(o(),a("button",{key:0,type:"button",name:"button",onClick:j=>z(j,P)}," ... ",8,cl))])])),e("td",{class:W(["cell bold",t(x)?"unselectable":""])},[e("div",ul,p(f.item.id),1)],2),e("td",{class:W(["cell",t(x)?"unselectable":""])},[e("div",dl,p(f.item.name),1)],2),e("td",_l,[e("div",fl,[(o(),pe(H,{disabled:t(x)||t(s).type=="used"||t(s).type=="transfer",key:P,class:"w-full h-full border-black border-solid border-1 p-1",type:"text",value:f.qty_in||0,onInput:j=>f.qty_in=j},null,8,["disabled","value","onInput"]))])]),e("td",pl,[e("div",vl,[(o(),pe(H,{disabled:t(x)||t(s).type=="in",key:P,class:"w-full h-full border-black border-solid border-1 p-1",type:"text",value:f.qty_out||0,onInput:j=>f.qty_out=j},null,8,["disabled","value","onInput"]))])]),e("td",ml,[e("div",hl,[N(e("textarea",{disabled:t(x),class:"border-black border-solid border-1 p-1 w-full","onUpdate:modelValue":j=>f.note=j,cols:"7",rows:"2"},null,8,yl),[[Z,f.note]])])])])):k("",!0)],64))),128)),t(x)?k("",!0):(o(),a("tr",wl,[e("td",xl,[e("button",{type:"button",name:"button",onClick:l[7]||(l[7]=f=>Se())},[g(Ae)])])]))])])],512)])]),e("div",bl,[e("button",{type:"button",name:"button",class:"w-36 m-1",onClick:l[8]||(l[8]=f=>c.$router.go(-1))}," Cancel "),t(x)?k("",!0):(o(),a("button",{key:0,type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:l[9]||(l[9]=ie(f=>ge(),["prevent"]))}," Save "))])])]),g(De,{show:t(M),fnClose:K,fnSelect:V,exclude_lists:t(n)},null,8,["show","exclude_lists"]),g(Ne,{show:t(i),fnClose:C,fnSelect:te,opt:t(A),exclude:t(ke)},null,8,["show","opt","exclude"]),g(je,{show:t(Q),coor:t(re),fn:Ce,onReplyAct:l[10]||(l[10]=f=>Ie(f))},null,8,["show","coor"])],64)}}});export{ql as default};

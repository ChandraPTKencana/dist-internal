import{o as l,c as i,a as n,n as X,C as $,F as U,r as q,R as Z,b as r,B as a,I as j,J as Q,K as O,t as F,s as ee,v as te,h as ne,u as W,q as I,O as M,w as E,z as oe,M as se,S as re,Z as ae,D as le,d as y,_ as D,$ as P,a0 as H}from"./entry.0b1d38b1.js";import{_ as K}from"./Times.81d9e1a0.js";import{_ as B}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as ie}from"./nuxt-link.7f1752b3.js";import{_ as ce,a as ue}from"./Loading.vue.2847d73c.js";import{u as de}from"./useMyFetch.6a55485b.js";import"./client-only.f1d9c4c0.js";import"./Loading.ae002294.js";const _e={name:"MaterialSymbolsHome"},me={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},ve=n("path",{fill:"currentColor",d:"M4 21V9l8-6l8 6v12h-6v-7h-4v7z"},null,-1),he=[ve];function pe(b,h,p,f,g,c){return l(),i("svg",me,he)}const fe=B(_e,[["render",pe]]),ge={name:"MaterialSymbolsScale"},we={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},xe=n("path",{fill:"currentColor",d:"M2 22q0-2.775.738-4.737T4.624 14q1.15-1.3 2.575-2.013T10 11V8q-3.425-.425-5.712-2.113T2 2h20q0 2.2-2.287 3.888T14 8v3q1.375.275 2.8.988T19.375 14q1.15 1.3 1.888 3.263T22 22h-6v-2h3.875q-.45-3.8-2.838-5.5T12 12.8q-2.65 0-5.038 1.7T4.125 20H8v2zm10 0q-.825 0-1.412-.587T10 20q0-.425.163-.775t.437-.625q.6-.6 2.025-1.263T16 16q-.7 1.95-1.35 3.375T13.4 21.4q-.275.275-.625.438T12 22"},null,-1),$e=[xe];function be(b,h,p,f,g,c){return l(),i("svg",we,$e)}const Te=B(ge,[["render",be]]),ke={name:"GridiconsProduct"},Ce={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Ee=n("path",{fill:"currentColor",d:"M22 3H2v6h1v11a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9h1zM4 5h16v2H4zm15 15H5V9h14zM9 11h6a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2"},null,-1),ye=[Ee];function Le(b,h,p,f,g,c){return l(),i("svg",Ce,ye)}const Se=B(ke,[["render",Le]]),Me={name:"MaterialSymbolsCreditCard"},qe={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Be=n("path",{fill:"currentColor",d:"M4 20q-.825 0-1.412-.587T2 18V6q0-.825.588-1.412T4 4h16q.825 0 1.413.588T22 6v12q0 .825-.587 1.413T20 20zm0-8h16V8H4z"},null,-1),Ie=[Be];function Ve(b,h,p,f,g,c){return l(),i("svg",qe,Ie)}const ze=B(Me,[["render",Ve]]),Ae={name:"CiHamburgerMd"},Re={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},De=n("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 17h14M5 12h14M5 7h14"},null,-1),Pe=[De];function He(b,h,p,f,g,c){return l(),i("svg",Re,Pe)}const Ue=B(Ae,[["render",He]]),Oe={class:"w-full min-h-[2rem] flex overflow-hidden"},We={class:"max-h-full h-full flex absolute top-0 left-0 gap-1 items-end"},Xe=["data-tab_bar"],je=["onClick"],Fe={class:"p-1"},Ke=X({__name:"TabBar",setup(b){const{triggerSidebar:h,openDynamicComponent:p,closeDynamicComponent:f}=$(),{is_sidebar_open:g,opened_components:c,opened_component_idx:V}=U($()),u=q(null),w=q(null),o=q({start:0,end:0}),z=e=>{o.value.start=e.changedTouches[0].clientX,e.currentTarget.addEventListener("touchmove",L),e.currentTarget.addEventListener("touchend",d),e.currentTarget.addEventListener("touchleave",d)},d=e=>{o.value.end=e.changedTouches[0].clientX,_(),e.currentTarget.removeEventListener("touchmove",L),e.currentTarget.removeEventListener("touchend",d),e.currentTarget.removeEventListener("touchleave",d)},L=e=>{o.value.end=e.changedTouches[0].clientX,_(),o.value.start=e.changedTouches[0].clientX,e.changedTouches[0].clientY>u.value.clientHeight&&(e.currentTarget.removeEventListener("touchmove",L),e.currentTarget.removeEventListener("touchend",d),e.currentTarget.removeEventListener("touchleave",d))},T=e=>{o.value.start=e.x,e.currentTarget.addEventListener("mousemove",k),e.currentTarget.addEventListener("mouseup",x),e.currentTarget.addEventListener("mouseleave",x)},x=e=>{o.value.end=e.x,_(),e.currentTarget.removeEventListener("mousemove",k),e.currentTarget.removeEventListener("mouseup",x),e.currentTarget.removeEventListener("mouseleave",x)},k=e=>{o.value.end=e.x,_(),o.value.start=e.x},_=()=>{if(u.value.clientWidth>w.value.clientWidth)return;let e=u.value.clientWidth-w.value.clientWidth,t=o.value.end-o.value.start;if(t==0)return;let s=parseFloat(w.value.style.left)||0,m="";s+t>0&&(m="0px"),s+t<e&&(m=e+"px"),m==""&&(m=s+t+"px"),w.value.style.left=m},A=()=>{_()};return Z(()=>{w.value=u.value.firstChild,u.value.addEventListener("mousedown",T,{passive:!0}),u.value.addEventListener("mouseup",x,{passive:!0}),u.value.addEventListener("touchstart",z,{passive:!0}),u.value.addEventListener("touchend",d,{passive:!0}),window.addEventListener("resize",A)}),(e,t)=>{const s=Ue,m=K;return l(),i("div",Oe,[n("button",{class:"min-w-8 w-8 h-8 m-1 p-0 text-2xl text-black bg-slate-300 sm:hidden flex justify-center items-center",onClick:t[0]||(t[0]=v=>a(h)(!a(g)))},[r(s)]),n("div",{class:"grow w-0 h-full flex overflow-hidden relative",ref_key:"tab_bar",ref:u},[n("div",We,[(l(!0),i(j,null,Q(a(c),(v,C)=>(l(),i("button",{type:"button",name:"button",class:O(["flex whitespace-nowrap items-center justify-center ring-0 rounded-bl-none rounded-br-none p-0",a(V)==C?"bg-slate-600 text-white h-full":"bg-slate-400 text-black text-xs h-4/5"]),"data-tab_bar":C},[n("div",{class:"w-full h-full p-1 grid place-content-center",onClick:R=>a(p)(C)},F(v.component_title),9,je),n("div",Fe,[r(m,{onClick:R=>a(f)(C)},null,8,["onClick"])])],10,Xe))),256))])],512)])}}}),Ne={class:"w-full h-full flex"},Ge={class:"relative h-full"},Je={class:"h-full flex flex-col p-2 overflow-hidden"},Ye={class:"grow overflow-auto"},Ze={key:0,class:"pl-6"},Qe={key:1,class:"pl-6"},et={key:2,class:"pl-6"},tt={id:"panel",class:"h-7 text-xs relative"},nt={class:"w-full absolute bottom-full mb-2 bg-slate-700 bg-opacity-80 cursor-pointer"},ot={class:"grow flex flex-col overflow-hidden"},_t=X({__name:"default",setup(b){const h=()=>D(P(()=>H(()=>import("./index.caf31e33.js"),["./index.caf31e33.js","./entry.0b1d38b1.js","./entry.edcf1d4b.css","./Plus.803b538c.js","./_plugin-vue_export-helper.c27b6911.js","./Edit.b5c54f06.js","./Table2Column.0d488b1f.js","./Delete.883e772e.js","./Signature.1e3854bf.js","./Search.b0b724eb.js","./PopupMini.vue.3fad2c91.js","./Times.81d9e1a0.js","./useMyFetch.6a55485b.js"],import.meta.url))),p=()=>D(P(()=>H(()=>import("./index.7fcb8a74.js"),["./index.7fcb8a74.js","./entry.0b1d38b1.js","./entry.edcf1d4b.css","./Plus.803b538c.js","./_plugin-vue_export-helper.c27b6911.js","./Edit.b5c54f06.js","./Delete.883e772e.js","./Search.b0b724eb.js","./PopupMini.vue.3fad2c91.js","./Times.81d9e1a0.js","./useMyFetch.6a55485b.js"],import.meta.url))),f=()=>D(P(()=>H(()=>import("./index.6b855797.js"),["./index.6b855797.js","./entry.0b1d38b1.js","./entry.edcf1d4b.css","./Plus.803b538c.js","./_plugin-vue_export-helper.c27b6911.js","./Edit.b5c54f06.js","./Delete.883e772e.js","./Search.b0b724eb.js","./PopupMini.vue.3fad2c91.js","./Times.81d9e1a0.js","./PopupSingleImage.vue.1378a934.js","./useUtils.100f5b4a.js","./useMyFetch.6a55485b.js"],import.meta.url)));ee();const g=te(),c=q("");ne(()=>g.path,(e,t)=>{let s=e.split("/");c.value="/"+(s.length>1?s[1]:"")},{immediate:!0});const{logUserOut:V}=W(),{authenticated:u}=U(W()),{triggerSidebar:w}=$(),{is_sidebar_open:o}=U($()),z=I("token"),d=async()=>{$().loading_full=!0;const{data:e,error:t,status:s}=await de("/api/logout",{method:"post",headers:{Authorization:`Bearer ${z.value}`,Accept:"application/json"},retry:0});if($().loading_full=!1,s.value==="error"){le().trigger(t);return}else V()};I("username");const L=I("fullname"),T=q(!1);window.addEventListener("click",e=>{var s;const t=e.target;t instanceof Element&&((s=document==null?void 0:document.getElementById("panel"))!=null&&s.contains(t)||(T.value=!1))});const x=I("role"),k=e=>e.includes(x.value),_=async(e,t)=>{await $().setDynamicComponent(e,t),o.value=!1},A=async e=>{c.value!=e&&(c.value=e,o.value=!1)};return(e,t)=>{const s=K,m=fe,v=ie,C=Te,R=Se,N=ze,G=Ke,J=ce,Y=ue;return l(),i(j,null,[n("div",Ne,[n("nav",{class:O([a(o)?"left-0":"right-full","bg-slate-800 h-full min-w-[150px] max-w-[150px] fixed sm:relative sm:right-0 text-white z-10"]),style:{width:"320px"}},[n("div",Ge,[a(o)?(l(),i("button",{key:0,class:"absolute left-full h-12 text-2xl text-white bg-slate-800 sm:hidden ring-0 focus:ring-0 rounded-none rounded-br rounded-tr mt-1",onClick:t[0]||(t[0]=S=>a(w)(!a(o)))},[r(s)])):M("",!0),n("header",Je,[n("ul",Ye,[n("li",{class:O(a(c)=="/"?"active":"")},[r(v,{to:"/",class:"cursor-pointer",onClick:t[1]||(t[1]=S=>A("/"))},{default:E(()=>[r(m,{class:"mr-1"}),y(" Tabs ")]),_:1})],2),k(["Super Admin","ClientPabrik","KTU","User"])?(l(),i("li",Ze,[r(v,{class:"cursor-pointer",onClick:t[2]||(t[2]=S=>_(p,"Satuan"))},{default:E(()=>[r(C,{class:"mr-1"}),y(" Satuan ")]),_:1})])):M("",!0),k(["Super Admin","ClientPabrik","KTU","User"])?(l(),i("li",Qe,[r(v,{class:"cursor-pointer",onClick:t[3]||(t[3]=S=>_(f,"Item"))},{default:E(()=>[r(R,{class:"mr-1"}),y(" Item ")]),_:1})])):M("",!0),k(["Super Admin","ClientPabrik","KTU","User"])?(l(),i("li",et,[r(v,{class:"cursor-pointer",onClick:t[4]||(t[4]=S=>_(h,"Transaksi"))},{default:E(()=>[r(N,{class:"mr-1"}),y(" Transaksi ")]),_:1})])):M("",!0)]),n("div",tt,[oe(n("div",nt,[r(v,{to:"/profile",class:"block w-full text-left p-2 hover:bg-slate-900"},{default:E(()=>[y(" Setting ")]),_:1}),a(u)?(l(),re(v,{key:0,class:"block w-full text-left p-2 hover:bg-slate-900",onClick:d},{default:E(()=>[y(" Logout ")]),_:1})):M("",!0)],512),[[se,a(T)]]),n("div",{class:"bg-slate-700 bg-opacity-80 p-2 cursor-pointer",onClick:t[5]||(t[5]=S=>T.value=!a(T))},F(a(L)),1)])])])],2),n("div",ot,[r(G),ae(e.$slots,"default")])]),r(J),r(Y)],64)}}});export{_t as default};

import{n as x,u as b,q as A,r as p,s as C,v as S,x as k,y as D,C as l,D as m,o as $,c as B,a as s,z as j,A as N,B as i,t as z,N as E,E as M}from"./entry.9a14ada7.js";import{u as v}from"./useMyFetch.398e73d1.js";const T={class:"w-full h-full flex flex-col border-t-4 border-slate-600"},U={action:"#",class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},V={class:"w-full align-items-center justify-content-center grow overflow-auto"},q={class:"w-full flex flex-col flex-wrap p-1"},F=s("label",{for:""},"Name",-1),R={class:"text-red-500"},G={class:"w-full flex items-center justify-end"},H=x({__name:"form",props:{id:{type:Number,required:!1}},async setup(_){let o,u;const d=_;b();const c=A("token"),r=p({});C(),S();const{data:w}=([o,u]=k(async()=>D(async()=>{const t=d.id;if(t!==void 0&&t!==""){l().loading_full=!0;const{data:e,error:a,status:f}=await v("/api/unit",{method:"get",headers:{Authorization:`Bearer ${c.value}`,Accept:"application/json"},params:{id:t},retry:0});if(l().loading_full=!1,f.value==="error")m().trigger(a,r);else return e.value.data}return{id:-1,name:""}},"$IDVeUCGgf3")),o=await o,u(),o),n=p(null);n.value=w.value;const h=async()=>{l().loading_full=!0,r.value={};const t=new FormData;t.append("name",n.value.name);let e="post",a=d.id;a==null||(e="post",t.append("id",a),t.append("_method","PUT"));const{data:f,error:y,status:g}=await v("/api/unit",{method:e,headers:{Authorization:`Bearer ${c.value}`,Accept:"application/json"},body:t,retry:0});if(l().loading_full=!1,g.value==="error"){m().trigger(y,r);return}M().display({show:!0,status:"Success",message:"Data Tersimpan"})};return(t,e)=>($(),B("div",T,[s("form",U,[s("div",V,[s("div",q,[F,j(s("input",{class:"",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>i(n).name=a)},null,512),[[N,i(n).name]]),s("p",R,z(i(r).name),1)])]),s("div",G,[s("button",{type:"button",name:"button",class:"w-36 m-1",onClick:e[1]||(e[1]=a=>t.$router.go(-1))}," Cancel "),s("button",{type:"submit",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:e[2]||(e[2]=E(a=>h(),["prevent"]))}," Save ")])])]))}});export{H as default};

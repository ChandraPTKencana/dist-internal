import{_ as R}from"./HeaderPopup.vue.404bf79e.js";import{g as E,r as H,f as Q,k as L,J as Y,o as d,c as r,a as e,b as G,t as s,l,F as J,D as P,E as U,d as W,n as O,G as Z,x as V,y as K,p as X,e as ee}from"./entry.a19beef1.js";import{u as te}from"./useUtils.2ea1120c.js";import{u as se}from"./useMyFetch.03b76c40.js";import{_ as oe}from"./_plugin-vue_export-helper.c27b6911.js";import"./Times.0158b2c2.js";const _=a=>(X("data-v-975a4125"),a=a(),ee(),a),le={class:"box-fixed"},ae={class:"w-full flex p-1 flex-wrap flex-row"},de={class:"w-full sm:w-1/3 md:w-1/3 lg:w-1/4 p-1"},re=_(()=>e("div",{class:"font-bold"}," Warehouse Name ",-1)),ie={class:"w-full p-1"},ue={class:"w-full sm:w-1/3 md:w-1/3 lg:w-1/4 p-1"},ne=_(()=>e("div",{class:"font-bold"}," Item Name ",-1)),_e={class:"w-full p-1"},me={class:"w-full sm:w-1/3 md:w-1/3 lg:w-1/4 p-1"},ce=_(()=>e("div",{class:"font-bold"}," Last Stock ",-1)),fe={class:"w-full p-1"},pe={class:"w-full flex justify-center items-center grow h-0 p-1"},he={key:0,class:""},ye={class:"tacky"},we=_(()=>e("thead",null,[e("tr",{class:"sticky top-0 !z-[2]"},[e("th",null,"No."),e("th",null,"Type"),e("th",null,"Qty In"),e("th",null,"Qty Out"),e("th",null,"Qty Reminder"),e("th",null,"Note"),e("th",null,"Requested At"),e("th",null,"Confirmed At")])],-1)),ve=["onClick"],ke=_(()=>e("br",null,null,-1)),ge={key:0},qe={key:1},be={__name:"summary_detail",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},warehouse_id:{type:Number,required:!1},item_id:{type:Number,required:!1},data:{type:Object,required:!0},filter_date:{type:Object,required:!0}},setup(a){const o=a,{$moment:h}=Z(),{pointFormat:f}=te(),j=E("token"),m=H([]),y=H(-1),i={};i._TimeZoneOffset=new Date().getTimezoneOffset();const z=async()=>{V().loading_full=!0,i.page=1,i.item_id=o.data.item.id,i.warehouse_id=o.data.rest.id,i.to=o.filter_date.to,m.value=[];const{data:u,error:n,status:p}=await se("/api/summary_detail_transactions",{method:"get",headers:{Authorization:`Bearer ${j.value}`,Accept:"application/json"},params:i,retry:0});if(V().loading_full=!1,p.value==="error"){K().trigger(n);return}m.value=u.value.data};return Q(()=>o.show,(u,n)=>{u==!0&&z()},{immediate:!0}),(u,n)=>{var w,v,k,g,q,b,N,x;const p=R;return L((d(),r("section",le,[e("div",null,[G(p,{title:"Summary Detail",fn:a.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),e("div",ae,[e("div",de,[re,e("div",ie,s((v=(w=o.data)==null?void 0:w.rest)==null?void 0:v.lokasi),1)]),e("div",ue,[ne,e("div",_e,s((g=(k=o.data)==null?void 0:k.item)==null?void 0:g.name),1)]),e("div",me,[ce,e("div",fe,s((b=(q=o.data)==null?void 0:q.item)==null?void 0:b.qty_reminder)+" "+s((x=(N=o.data)==null?void 0:N.item)==null?void 0:x.unit_name),1)])]),e("div",pe,[l(m).length==0?(d(),r("div",he," Maaf Tidak Ada Record ")):(d(),r("div",{key:1,class:"w-full h-full overflow-auto",role:"sticky",ref:"loadRef",onScroll:n[0]||(n[0]=(...t)=>u.loadMore&&u.loadMore(...t))},[e("table",ye,[we,e("tbody",null,[(d(!0),r(J,null,P(l(m),(t,c)=>{var D,S,C,M,$,A,F,I,T,B;return d(),r("tr",{key:c,onClick:Ne=>y.value=c,class:U(l(y)==c?"active":"")},[e("td",null,s(c+1)+".",1),e("td",null,[W(s(t.type)+" ",1),ke,t.type=="transfer"&&((S=(D=o.data)==null?void 0:D.rest)==null?void 0:S.lokasi)!=t.source?(d(),r("div",ge," From "+s(t.source),1)):O("",!0),t.type=="transfer"&&((M=(C=o.data)==null?void 0:C.rest)==null?void 0:M.lokasi)!=t.target?(d(),r("div",qe," To "+s(t.target),1)):O("",!0)]),e("td",null,s(t.qty_in?l(f)(t.qty_in)+` ${(A=($=o.data)==null?void 0:$.item)==null?void 0:A.unit_name}`:""),1),e("td",null,s(t.qty_out?l(f)(t.qty_out)+` ${(I=(F=o.data)==null?void 0:F.item)==null?void 0:I.unit_name}`:""),1),e("td",null,s(t.qty_reminder?l(f)(t.qty_reminder)+` ${(B=(T=o.data)==null?void 0:T.item)==null?void 0:B.unit_name}`:""),1),e("td",null,s(t.note),1),e("td",null,s(t.requested_at?l(h)(t.requested_at).format("DD-MM-Y HH:mm:ss"):""),1),e("td",null,s(t.confirmed_at?l(h)(t.confirmed_at).format("DD-MM-Y HH:mm:ss"):""),1)],10,ve)}),128))])])],544))])])],512)),[[Y,a.show]])}}},Ae=oe(be,[["__scopeId","data-v-975a4125"]]);export{Ae as default};

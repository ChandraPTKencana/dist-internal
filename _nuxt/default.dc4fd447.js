import H from"./Times.725e6b46.js";import J from"./Burger.150b88d3.js";import K from"./Home.5943a161.js";import{_ as Y}from"./nuxt-link.09e2fe7e.js";import q from"./Product.3e1d95f9.js";import Q from"./Scale.97ff2f57.js";import X from"./Money.a3e348d3.js";import Z from"./Person.0403ce89.js";import ee from"./People.ab5ffcbb.js";import{_ as te}from"./Alert.vue.42da3995.js";import{_ as se}from"./Loading.vue.e3596de3.js";import{K as oe,B as ne,M as le,r as U,f as P,L as B,s as E,x as b,g as x,O as ie,o as u,c as _,a as l,l as s,z as I,E as d,b as o,w as c,d as m,n as v,k as re,J as ae,t as S,Y as ue,F as ce,y as me}from"./entry.468c1924.js";import{u as fe}from"./useMyFetch.5d39e20e.js";import{u as y}from"./useUtils.f67a7b52.js";import{_ as pe}from"./_plugin-vue_export-helper.c27b6911.js";import"./client-only.22df5fad.js";import"./Loading.94fa0b34.js";const _e={class:"w-full h-full flex"},de={class:"relative h-full"},ve={class:"h-full flex flex-col overflow-hidden"},ye={class:"grow overflow-auto"},ge={id:"panel",class:"min-h-7 p-2 text-xs relative"},we={class:"w-full absolute bottom-full mb-2 bg-slate-700 bg-opacity-80 cursor-pointer"},ke={class:"grow flex flex-col overflow-hidden"},xe={class:"w-full text-xs bg-slate-700 text-white p-1 flex justify-evenly"},he=oe({__name:"default",setup(be){const T=ne(),V=le(),a=U("");P(()=>V.path,(e,t)=>{let i=e.split("/");i=i.filter(w=>w!=""),a.value="/"+i.join("/")},{immediate:!0});const{logUserOut:z}=B(),{authenticated:L}=E(B()),{triggerSidebar:M}=b(),{is_sidebar_open:g}=E(b()),j=x("token"),A=async()=>{b().loading_full=!0;const{data:e,error:t,status:i}=await fe("/logout",{method:"post",headers:{Authorization:`Bearer ${j.value}`,Accept:"application/json"},retry:0});if(b().loading_full=!1,i.value==="error"){me().trigger(t);return}else z()},F=x("company_name");x("company_email");const N=x("username");x("fullname");const h=U(!1);window.addEventListener("click",e=>{var i;const t=e.target;t instanceof Element&&((i=document==null?void 0:document.getElementById("panel"))!=null&&i.contains(t)||(h.value=!1))}),window.addEventListener("resize",e=>{let t=document.getElementById("side_menu");t&&(window.innerWidth>=640?t.style.left="0px":g.value||(t.style.left="-150px"))}),ie(()=>{let e=document.getElementById("side_menu");e&&(window.innerWidth>=640?e.style.left="0px":g.value||(e.style.left="-150px"))});const p=e=>{a.value!=e&&(a.value=e,window.innerWidth<640&&(g.value=!1),T.push(e))},$=U(null);return P(()=>g.value,(e,t)=>{let i=150,w=300/150,r=null,n=$.value;r&&(clearInterval(r),r=null),n&&(r=setInterval(()=>{let k=parseFloat(n.style.left);e?k>=0&&r?(n.style.left="0px",clearInterval(r),r=null):n.style.left=k+w+"px":k<=i*-1&&r?(n.style.left="-150px",clearInterval(r),r=null):n.style.left=k-w+"px"},1))}),(e,t)=>{const i=H,w=J,r=K,n=Y,k=q,D=Q,C=X,R=Z,W=ee,O=te,G=se;return u(),_(ce,null,[l("div",_e,[l("nav",{id:"side_menu",ref_key:"side_menu",ref:$,class:"bg-slate-900 h-full min-w-[150px] max-w-[150px] fixed sm:relative sm:left-0 text-white z-10",style:{width:"320px"}},[l("div",de,[l("button",{class:"absolute left-full h-8 text-2xl text-white bg-slate-500 sm:hidden bg-opacity-0 ring-0 focus:ring-0 flex justify-center items-center",onClick:t[0]||(t[0]=f=>s(M)(!s(g)))},[s(g)?(u(),I(i,{key:0})):(u(),I(w,{key:1}))]),l("header",ve,[l("ul",ye,[l("li",{class:d(s(a)=="/"?"active":"")},[o(n,{to:"/",class:"cursor-pointer",onClick:t[1]||(t[1]=f=>p("/"))},{default:c(()=>[o(r,{class:"mr-1"}),m(" Dashboard ")]),_:1})],2),("useUtils"in e?e.useUtils:s(y))().checkPermission("item.views")?(u(),_("li",{key:0,class:d(s(a)=="/item"?"active":"")},[o(n,{to:"/item",class:"cursor-pointer",onClick:t[2]||(t[2]=f=>p("/item"))},{default:c(()=>[o(k,{class:"mr-1"}),m(" Item ")]),_:1})],2)):v("",!0),("useUtils"in e?e.useUtils:s(y))().checkPermission("unit.views")?(u(),_("li",{key:1,class:d(s(a)=="/unit"?"active":"")},[o(n,{to:"/unit",class:"cursor-pointer",onClick:t[3]||(t[3]=f=>p("/unit"))},{default:c(()=>[o(D,{class:"mr-1"}),m(" Unit ")]),_:1})],2)):v("",!0),("useUtils"in e?e.useUtils:s(y))().checkPermission("transaction.views")?(u(),_("li",{key:2,class:d(s(a)=="/transaction"?"active":"")},[o(n,{to:"/transaction",class:"cursor-pointer",onClick:t[4]||(t[4]=f=>p("/transaction"))},{default:c(()=>[o(C,{class:"mr-1"}),m(" Transaction ")]),_:1})],2)):v("",!0),("useUtils"in e?e.useUtils:s(y))().checkPermission("transaction.views")?(u(),_("li",{key:3,class:d(s(a)=="/transaction/transfer"?"active":"")},[o(n,{to:"/transaction/transfer",class:"cursor-pointer",onClick:t[5]||(t[5]=f=>p("/transaction/transfer"))},{default:c(()=>[o(C,{class:"mr-1"}),m(" Transfer ")]),_:1})],2)):v("",!0),("useUtils"in e?e.useUtils:s(y))().checkPermission("transaction.views")?(u(),_("li",{key:4,class:d(s(a)=="/transaction/summary"?"active":"")},[o(n,{to:"/transaction/summary",class:"cursor-pointer",onClick:t[6]||(t[6]=f=>p("/transaction/summary"))},{default:c(()=>[o(C,{class:"mr-1"}),m(" Summary ")]),_:1})],2)):v("",!0),("useUtils"in e?e.useUtils:s(y))().checkPermission("user.views")?(u(),_("li",{key:5,class:d(s(a)=="/user"?"active":"")},[o(n,{to:"/user",class:"cursor-pointer",onClick:t[7]||(t[7]=f=>p("/user"))},{default:c(()=>[o(R,{class:"mr-1"}),m(" User ")]),_:1})],2)):v("",!0),("useUtils"in e?e.useUtils:s(y))().checkPermission("permission_group.views")?(u(),_("li",{key:6,class:d(s(a)=="/permission_group"?"active":"")},[o(n,{to:"/permission_group",class:"cursor-pointer",onClick:t[8]||(t[8]=f=>p("/permission_group"))},{default:c(()=>[o(W,{class:"mr-1"}),m(" Permission Group ")]),_:1})],2)):v("",!0)]),l("div",ge,[re(l("div",we,[o(n,{to:"/profile/change_password",class:"block w-full text-left p-2 hover:bg-slate-900"},{default:c(()=>[m(" Change Password ")]),_:1}),s(L)?(u(),I(n,{key:0,class:"block w-full text-left p-2 hover:bg-slate-900",onClick:A},{default:c(()=>[m(" Logout ")]),_:1})):v("",!0)],512),[[ae,s(h)]]),l("div",{class:"bg-slate-700 bg-opacity-80 p-2 cursor-pointer",onClick:t[9]||(t[9]=f=>h.value=!s(h))},S(s(N)),1)])])])],512),l("div",ke,[ue(e.$slots,"default",{},void 0,!0),l("div",xe,[l("div",null,S(s(F)),1)])])]),o(O),o(G)],64)}}});const De=pe(he,[["__scopeId","data-v-e1f7f380"]]);export{De as default};

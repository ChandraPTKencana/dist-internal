import{_ as N}from"./Times.fe693d7a.js";import{_ as w}from"./_plugin-vue_export-helper.c27b6911.js";import{o as n,c as r,a as e,f as U,i as j,j as D,r as q,E as F,g,y as S,q as k,h as y,C as $,n as o,J as T,b as a,w as h,H as C,m as G,G as J,t as O,L as W,F as K,s as Q,d as p}from"./entry.551cd03e.js";import{_ as X}from"./nuxt-link.dba1bff3.js";import{_ as Y,a as Z}from"./Loading.vue.82166c1c.js";import{u as tt}from"./useMyFetch.716fa7cc.js";import"./client-only.81b45be8.js";import"./Loading.ab5828f5.js";const et={name:"CiHamburgerMd"},ot={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},st=e("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 17h14M5 12h14M5 7h14"},null,-1),nt=[st];function at(f,i,c,s,_,u){return n(),r("svg",ot,nt)}const lt=w(et,[["render",at]]),rt={name:"MaterialSymbolsHome"},it={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},ct=e("path",{fill:"currentColor",d:"M4 21V9l8-6l8 6v12h-6v-7h-4v7z"},null,-1),_t=[ct];function ut(f,i,c,s,_,u){return n(),r("svg",it,_t)}const dt=w(rt,[["render",ut]]),mt={name:"MaterialSymbolsScale"},ht={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},pt=e("path",{fill:"currentColor",d:"M2 22q0-2.775.738-4.737T4.624 14q1.15-1.3 2.575-2.013T10 11V8q-3.425-.425-5.712-2.113T2 2h20q0 2.2-2.287 3.888T14 8v3q1.375.275 2.8.988T19.375 14q1.15 1.3 1.888 3.263T22 22h-6v-2h3.875q-.45-3.8-2.838-5.5T12 12.8q-2.65 0-5.038 1.7T4.125 20H8v2zm10 0q-.825 0-1.412-.587T10 20q0-.425.163-.775t.437-.625q.6-.6 2.025-1.263T16 16q-.7 1.95-1.35 3.375T13.4 21.4q-.275.275-.625.438T12 22"},null,-1),ft=[pt];function vt(f,i,c,s,_,u){return n(),r("svg",ht,ft)}const gt=w(mt,[["render",vt]]),$t={name:"GridiconsProduct"},wt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},xt=e("path",{fill:"currentColor",d:"M22 3H2v6h1v11a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9h1zM4 5h16v2H4zm15 15H5V9h14zM9 11h6a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2"},null,-1),kt=[xt];function Ct(f,i,c,s,_,u){return n(),r("svg",wt,kt)}const bt=w($t,[["render",Ct]]),yt={name:"MaterialSymbolsCreditCard"},Tt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},qt=e("path",{fill:"currentColor",d:"M4 20q-.825 0-1.412-.587T2 18V6q0-.825.588-1.412T4 4h16q.825 0 1.413.588T22 6v12q0 .825-.587 1.413T20 20zm0-8h16V8H4z"},null,-1),St=[qt];function Mt(f,i,c,s,_,u){return n(),r("svg",Tt,St)}const Bt=w(yt,[["render",Mt]]),Vt={class:"w-full h-full flex"},zt={class:"relative h-full"},Ht={class:"h-full flex flex-col p-2 overflow-hidden"},It={class:"grow overflow-auto"},At={id:"panel",class:"h-7 text-xs relative"},Et={class:"w-full absolute bottom-full mb-2 bg-slate-700 bg-opacity-80 cursor-pointer"},Lt={class:"grow flex flex-col overflow-hidden"},Jt=U({__name:"default",setup(f){const i=j(),c=D(),s=q("");F(()=>c.path,(d,t)=>{let l=d.split("/");s.value="/"+(l.length>1?l[1]:"")},{immediate:!0});const{logUserOut:_}=g(),{authenticated:u}=S(g()),{triggerSidebar:M}=k(),{is_sidebar_open:b}=S(k()),B=y("token"),V=async()=>{k().loading_full=!0;const{data:d,error:t,status:l}=await tt("/api/logout",{method:"post",headers:{Authorization:`Bearer ${B.value}`,Accept:"application/json"},retry:0});if(k().loading_full=!1,l.value==="error"){Q().trigger(t);return}else _(),i.push("/login")};y("username");const z=y("fullname"),x=q(!1);return window.addEventListener("click",d=>{var l;const t=d.target;t instanceof Element&&((l=document==null?void 0:document.getElementById("panel"))!=null&&l.contains(t)||(x.value=!1))}),(d,t)=>{const l=N,H=lt,I=dt,m=X,A=gt,E=bt,L=Bt,P=Y,R=Z;return n(),r(K,null,[e("div",Vt,[e("nav",{class:$([o(b)?"left-0":"right-full","bg-slate-800 h-full min-w-[150px] max-w-[150px] fixed sm:relative sm:right-0 text-white z-10"]),style:{width:"320px"}},[e("div",zt,[e("button",{class:"absolute left-full h-12 text-2xl text-white bg-slate-500 sm:hidden",onClick:t[0]||(t[0]=v=>o(M)(!o(b)))},[o(b)?(n(),T(l,{key:0})):(n(),T(H,{key:1}))]),e("header",Ht,[e("ul",It,[e("li",{class:$(o(s)=="/"?"active":"")},[a(m,{to:"/",onClick:t[1]||(t[1]=v=>s.value="/")},{default:h(()=>[a(I,{class:"mr-1"}),p(" Dashboard ")]),_:1})],2),o(g)().checkRole(["Super Admin","ClientPabrik","User"])?(n(),r("li",{key:0,class:$(o(s)=="/data_satuan"?"active":"")},[a(m,{to:"/data_satuan",onClick:t[2]||(t[2]=v=>s.value="/data_satuan")},{default:h(()=>[a(A,{class:"mr-1"}),p(" Satuan ")]),_:1})],2)):C("",!0),o(g)().checkRole(["Super Admin","ClientPabrik","User"])?(n(),r("li",{key:1,class:$(o(s)=="/data_item"?"active":"")},[a(m,{to:"/data_item",onClick:t[3]||(t[3]=v=>s.value="/data_item")},{default:h(()=>[a(E,{class:"mr-1"}),p(" Item ")]),_:1})],2)):C("",!0),o(g)().checkRole(["Super Admin","ClientPabrik","User"])?(n(),r("li",{key:2,class:$(o(s)=="/data_transaksi"?"active":"")},[a(m,{to:"/data_transaksi",onClick:t[4]||(t[4]=v=>s.value="/data_transaksi")},{default:h(()=>[a(L,{class:"mr-1"}),p(" Transaksi ")]),_:1})],2)):C("",!0)]),e("div",At,[G(e("div",Et,[a(m,{to:"/profile",class:"block w-full text-left p-2 hover:bg-slate-900"},{default:h(()=>[p(" Setting ")]),_:1}),o(u)?(n(),T(m,{key:0,class:"block w-full text-left p-2 hover:bg-slate-900",onClick:V},{default:h(()=>[p(" Logout ")]),_:1})):C("",!0)],512),[[J,o(x)]]),e("div",{class:"bg-slate-700 bg-opacity-80 p-2 cursor-pointer",onClick:t[5]||(t[5]=v=>x.value=!o(x))},O(o(z)),1)])])])],2),e("div",Lt,[W(d.$slots,"default")])]),a(P),a(R)],64)}}});export{Jt as default};

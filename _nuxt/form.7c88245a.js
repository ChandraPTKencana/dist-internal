import{_ as je}from"./HeaderCustom.vue.65d4099f.js";import{_ as se}from"./Search.24697dd5.js";import{_ as Ne}from"./Delete.043418a1.js";import{_ as X}from"./_plugin-vue_export-helper.c27b6911.js";import{o,c as a,a as e,q as le,r as h,g as oe,z as A,M as ae,b,G as fe,A as Q,B as t,H as J,I as Y,J as ne,K as F,t as p,L as pe,p as ve,e as me,C as V,D as Z,n as he,O as g,u as Me,s as qe,v as Te,x as Le,y as He,P as ue,Q as _e}from"./entry.d9e34c83.js";import{_ as Oe}from"./Times.12c324a3.js";import{_ as Re}from"./InputPointFormat.vue.188ab534.js";import{_ as Be}from"./Plus.1e269f26.js";import{_ as ye}from"./HeaderPopup.vue.07a614cf.js";import{u as G}from"./useMyFetch.535b1d7f.js";const Ue={name:"TablerTools"},Ve={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},ze=e("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[e("path",{d:"M3 21h4L20 8a1.5 1.5 0 0 0-4-4L3 17zM14.5 5.5l4 4"}),e("path",{d:"M12 8L7 3L3 7l5 5M7 8L5.5 9.5M16 12l5 5l-4 4l-5-5m4 1l-1.5 1.5"})],-1),Pe=[ze];function Fe(_,w,k,N,n,v){return o(),a("svg",Ve,Pe)}const We=X(Ue,[["render",Fe]]);const H=_=>(ve("data-v-630e1584"),_=_(),me(),_),Ke={class:"box-fixed"},Ye={class:"w-full flex p-1"},Je={class:"grow"},Ee=H(()=>e("div",{class:"font-bold"}," Keyword ",-1)),Qe={class:"pl-1"},Ze=H(()=>e("div",{class:"font-bold"}," Sort By ",-1)),Ge=H(()=>e("option",{value:"created_at"},"Created At",-1)),Xe=H(()=>e("option",{value:"id"},"ID",-1)),et=H(()=>e("option",{value:"name"},"Nama",-1)),tt=[Ge,Xe,et],st={class:"pl-1"},lt=H(()=>e("div",{class:"font-bold"}," Sort Order ",-1)),ot=H(()=>e("option",{value:"asc"},"Asc",-1)),at=H(()=>e("option",{value:"desc"},"Desc",-1)),nt=[ot,at],it={class:"flex items-end pl-1"},ct={class:"w-full flex justify-center items-center grow h-0 p-1"},rt={key:0,class:""},dt={class:"tacky"},ut=H(()=>e("thead",null,[e("tr",{class:"sticky top-0 !z-[2]"},[e("th",null,"No."),e("th",null,"ID"),e("th",null,"Name"),e("th",null,"Unit"),e("th",null,"Created At"),e("th",null,"Updated At")])],-1)),_t=["onClick"],ft={class:"bold"},pt={class:"flex",style:{"justify-content":"end",padding:"5px"}},vt={__name:"items",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},fnSelect:{type:Function,required:!1},excludes:{type:String,required:!1},exclude_lists:{type:Array,required:!1}},setup(_){const w=_,{$moment:k}=pe(),N=le("token"),n=h([]),v=h(""),y=h({field:"created_at",by:"desc"}),$=h(-1),c=h({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),s={};s._TimeZoneOffset=new Date().getTimezoneOffset();const j=()=>{s.like="",v.value!=""&&(s.like=`id:%${v.value}%,name:%${v.value}%`),s.sort="",y.value.field&&(s.sort=y.value.field+":"+y.value.by)},m=h(null),R=async()=>{V().loading_full=!0,c.value.may_get_data=!1,s.page=c.value.page,s.page==1&&(n.value=[]),w.exclude_lists&&(s.exclude_lists=JSON.stringify(w.exclude_lists)),s.first_row&&delete s.first_row,s.page>1&&(s.first_row=JSON.stringify(n.value[0]));const{data:u,error:r,status:S}=await G("/api/items",{method:"get",headers:{Authorization:`Bearer ${N.value}`,Accept:"application/json"},params:s,retry:0});if(V().loading_full=!1,c.value.may_get_data=!0,S.value==="error"){Z().trigger(r);return}c.value.page==1?(n.value=u.value.data,m.value&&(m.value.scrollTop=0)):c.value.page>1&&(n.value=[...n.value,...u.value.data]),u.value.data.length==0&&(c.value.is_last_record=!0)},B=async()=>{if(!c.value.may_get_data)return;let u=m.value;if(u.scrollLeft!=c.value.scrollLeft){c.value.scrollLeft=u.scrollLeft;return}c.value.is_last_record||!(Math.round(u.scrollTop)+u.clientHeight>=u.scrollHeight-1)||(c.value.page++,await R())},z=()=>{c.value.page=1,c.value.is_last_record=!1,j(),R()},W=()=>{$.value>-1?w.fnSelect(n.value[$.value]):w.fnSelect({id:"",name:""})};return oe(()=>w.show,(u,r)=>{u==!0&&z()},{immediate:!0}),(u,r)=>{const S=ye,U=se;return A((o(),a("section",Ke,[e("div",null,[b(S,{title:"Search And Select Item",fn:_.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),e("div",Ye,[e("div",Je,[Ee,A(e("input",{class:"",type:"text","onUpdate:modelValue":r[0]||(r[0]=d=>fe(v)?v.value=d:null),name:"search",placeholder:"Keyword"},null,512),[[Q,t(v)]])]),e("div",Qe,[Ze,A(e("select",{class:"","onUpdate:modelValue":r[1]||(r[1]=d=>t(y).field=d)},tt,512),[[J,t(y).field]])]),e("div",st,[lt,A(e("select",{class:"","onUpdate:modelValue":r[2]||(r[2]=d=>t(y).by=d)},nt,512),[[J,t(y).by]])]),e("div",it,[e("button",{class:"",type:"button",name:"button",onClick:r[3]||(r[3]=d=>z())},[b(U,{class:"text-2xl"})])])]),e("div",ct,[t(n).length==0?(o(),a("div",rt," Maaf Tidak Ada Record ")):(o(),a("div",{key:1,class:"w-full h-full overflow-auto",role:"sticky",ref_key:"loadRef",ref:m,onScroll:B},[e("table",dt,[ut,e("tbody",null,[(o(!0),a(Y,null,ne(t(n),(d,C)=>(o(),a("tr",{key:C,onClick:ee=>$.value=C,class:F(t($)==C?"active":"")},[e("td",null,p(C+1)+".",1),e("td",ft,p(d.id),1),e("td",null,p(d.name),1),e("td",null,p(d.unit.name),1),e("td",null,p(t(k)(d.created_at).format("DD-MM-Y HH:mm:ss")),1),e("td",null,p(t(k)(d.updated_at).format("DD-MM-Y HH:mm:ss")),1)],10,_t))),128))])])],544))]),e("div",pt,[e("button",{onClick:r[4]||(r[4]=d=>W()),class:"w-36 m-1 bg-blue-600 text-white rounded-sm"}," Select ")])])],512)),[[ae,_.show]])}}},mt=X(vt,[["__scopeId","data-v-630e1584"]]);const O=_=>(ve("data-v-38cbcbc5"),_=_(),me(),_),ht={class:"box-fixed"},yt={class:"w-full flex p-1"},wt={class:"grow"},xt=O(()=>e("div",{class:"font-bold"}," Keyword ",-1)),bt={class:"pl-1"},gt=O(()=>e("div",{class:"font-bold"}," Sort By ",-1)),kt=O(()=>e("option",{value:"created_at"},"Created At",-1)),$t=O(()=>e("option",{value:"id"},"ID",-1)),St=O(()=>e("option",{value:"name"},"Nama",-1)),Ct=[kt,$t,St],It={class:"pl-1"},At=O(()=>e("div",{class:"font-bold"}," Sort Order ",-1)),Dt=O(()=>e("option",{value:"asc"},"Asc",-1)),jt=O(()=>e("option",{value:"desc"},"Desc",-1)),Nt=[Dt,jt],Mt={class:"flex items-end pl-1"},qt={class:"w-full flex justify-center items-center grow h-0 p-1"},Tt={key:0,class:""},Lt={class:"tacky"},Ht=O(()=>e("thead",null,[e("tr",{class:"sticky top-0 !z-[2]"},[e("th",null,"No."),e("th",null,"ID"),e("th",null,"Name"),e("th",null,"Created At"),e("th",null,"Updated At")])],-1)),Ot=["onClick"],Rt={class:"bold"},Bt={class:"flex",style:{"justify-content":"end",padding:"5px"}},Ut={__name:"hrm_revisi_lokasis",props:{show:{type:Boolean,required:!0},fnClose:{type:Function,required:!1},fnSelect:{type:Function,required:!1},opt:{type:String,required:!1},exclude:{type:Number,required:!1},exclude_lists:{type:Array,required:!1}},setup(_){const w=_,{$moment:k}=pe(),N=le("token"),n=h([]),v=h(""),y=h({field:"created_at",by:"desc"}),$=h(-1),c=h({page:1,is_last_record:!1,scrollLeft:0,may_get_data:!0}),s={};s._TimeZoneOffset=new Date().getTimezoneOffset();const j=()=>{s.like="",v.value!=""&&(s.like=`id:%${v.value}%,name:%${v.value}%`),s.sort="",y.value.field&&(s.sort=y.value.field+":"+y.value.by)},m=h(null),R=async()=>{V().loading_full=!0,c.value.may_get_data=!1,s.opt=w.opt,s.exclude=w.exclude,s.page=c.value.page,s.page==1&&(n.value=[]),s.first_row&&delete s.first_row,s.page>1&&(s.first_row=JSON.stringify(n.value[0]));const{data:u,error:r,status:S}=await G("/api/hrm_revisi_lokasis",{method:"get",headers:{Authorization:`Bearer ${N.value}`,Accept:"application/json"},params:s,retry:0});if(V().loading_full=!1,c.value.may_get_data=!0,S.value==="error"){Z().trigger(r);return}c.value.page==1?(n.value=u.value.data,m.value&&(m.value.scrollTop=0)):c.value.page>1&&(n.value=[...n.value,...u.value.data]),u.value.data.length==0&&(c.value.is_last_record=!0)},B=async()=>{if(!c.value.may_get_data)return;let u=m.value;if(u.scrollLeft!=c.value.scrollLeft){c.value.scrollLeft=u.scrollLeft;return}c.value.is_last_record||!(Math.round(u.scrollTop)+u.clientHeight>=u.scrollHeight-1)||(c.value.page++,await R())},z=()=>{c.value.page=1,c.value.is_last_record=!1,j(),R()},W=()=>{$.value>-1?w.fnSelect(n.value[$.value]):w.fnSelect({id:"",name:""})};return oe(()=>w.show,(u,r)=>{u==!0&&z()},{immediate:!0}),(u,r)=>{const S=ye,U=se;return A((o(),a("section",ht,[e("div",null,[b(S,{title:"Search And Select Warehouse",fn:_.fnClose,class:"w-100 flex align-items-center",style:{color:"white"}},null,8,["fn"]),e("div",yt,[e("div",wt,[xt,A(e("input",{class:"",type:"text","onUpdate:modelValue":r[0]||(r[0]=d=>fe(v)?v.value=d:null),name:"search",placeholder:"Keyword"},null,512),[[Q,t(v)]])]),e("div",bt,[gt,A(e("select",{class:"","onUpdate:modelValue":r[1]||(r[1]=d=>t(y).field=d)},Ct,512),[[J,t(y).field]])]),e("div",It,[At,A(e("select",{class:"","onUpdate:modelValue":r[2]||(r[2]=d=>t(y).by=d)},Nt,512),[[J,t(y).by]])]),e("div",Mt,[e("button",{class:"",type:"button",name:"button",onClick:r[3]||(r[3]=d=>z())},[b(U,{class:"text-2xl"})])])]),e("div",qt,[t(n).length==0?(o(),a("div",Tt," Maaf Tidak Ada Record ")):(o(),a("div",{key:1,class:"w-full h-full overflow-auto",role:"sticky",ref_key:"loadRef",ref:m,onScroll:B},[e("table",Lt,[Ht,e("tbody",null,[(o(!0),a(Y,null,ne(t(n),(d,C)=>(o(),a("tr",{key:C,onClick:ee=>$.value=C,class:F(t($)==C?"active":"")},[e("td",null,p(C+1)+".",1),e("td",Rt,p(d.id),1),e("td",null,p(d.name),1),e("td",null,p(t(k)(d.created_at).format("DD-MM-Y HH:mm:ss")),1),e("td",null,p(t(k)(d.updated_at).format("DD-MM-Y HH:mm:ss")),1)],10,Ot))),128))])])],544))]),e("div",Bt,[e("button",{onClick:r[4]||(r[4]=d=>W()),class:"w-36 m-1 bg-blue-600 text-white rounded-sm"}," Select ")])])],512)),[[ae,_.show]])}}},Vt=X(Ut,[["__scopeId","data-v-38cbcbc5"]]),zt=he({__name:"ToolsPopup",props:{show:{type:Boolean,required:!0},coor:{type:Object,required:!1},fn:{type:Function,required:!0},only:{type:Object}},setup(_){const w=_,k=h(null),N=n=>{n.target.classList.contains("box")&&w.fn()};return oe(()=>w.coor,(n,v)=>{n&&k.value&&(k.value.style.left=n.left+"px",k.value.style.top=n.top+"px")},{immediate:!0,deep:!0}),(n,v)=>A((o(),a("div",{class:"box",onClick:v[2]||(v[2]=y=>N(y))},[e("div",{ref_key:"popup",ref:k},[e("ul",null,[!_.only||_.only.length==0||_.only.indexOf("insert")>-1?(o(),a("li",{key:0,onClick:v[0]||(v[0]=y=>n.$emit("replyAct","insert"))},"Insert")):g("",!0),!_.only||_.only.length==0||_.only.indexOf("delete")>-1?(o(),a("li",{key:1,onClick:v[1]||(v[1]=y=>n.$emit("replyAct","delete"))},"Delete")):g("",!0)])],512)],512)),[[ae,_.show]])}});const Pt=X(zt,[["__scopeId","data-v-cde7f964"]]),Ft={class:"w-full h-full flex flex-col"},Wt={class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},Kt={class:"w-full flex flex-col items-center justify-center grow overflow-auto"},Yt={class:"w-full flex flex-row flex-wrap"},Jt={key:0,class:"w-full flex flex-col flex-wrap p-1"},Et=e("label",{for:""},"Input At",-1),Qt={class:"card-border"},Zt={class:"w-full flex flex-col flex-wrap p-1"},Gt=e("label",{for:""},"Type",-1),Xt=["disabled"],es=e("option",{value:"used"},"Used",-1),ts=e("option",{value:"in"},"In",-1),ss=e("option",{value:"transfer"},"Transfer",-1),ls=[es,ts,ss],os={class:"text-red-500"},as={class:"w-full flex flex-col flex-wrap p-1"},ns=e("label",{for:""},"From Warehouse",-1),is={class:"card-border flex flex-row flex-wrap"},cs={key:0,class:"w-full flex"},rs=e("div",{class:"flex items-center grow p-1"}," Pilih Warehouse yang dikelola ",-1),ds={class:"flex flex-row flex-wrap grow"},us={class:"p-1"},_s=e("div",{class:"text-sm text-gray-600"},"ID",-1),fs={class:"bold"},ps={class:"p-1"},vs=e("div",{class:"text-sm text-gray-600"},"Name",-1),ms={class:"bold"},hs={class:"flex flex-row flex-wrap grow"},ys={class:"p-1"},ws=e("div",{class:"text-sm text-gray-600"},"ID",-1),xs={class:"bold"},bs={class:"p-1"},gs=e("div",{class:"text-sm text-gray-600"},"Name",-1),ks={class:"bold"},$s={class:"text-red-500"},Ss={key:1,class:"w-full flex flex-col flex-wrap p-1"},Cs=e("label",{for:""},"To Warehouse",-1),Is={class:"card-border flex flex-row flex-wrap"},As={key:0,class:"w-full flex"},Ds=e("div",{class:"flex items-center grow p-1"}," Pilih Warehouse Target ",-1),js={class:"flex flex-row flex-wrap grow"},Ns={class:"p-1"},Ms=e("div",{class:"text-sm text-gray-600"},"ID",-1),qs={class:"bold"},Ts={class:"p-1"},Ls=e("div",{class:"text-sm text-gray-600"},"Name",-1),Hs={class:"bold"},Os={class:"text-red-500"},Rs={class:"w-full flex flex-col flex-wrap p-1"},Bs=e("label",{for:""},"Note",-1),Us=["disabled"],Vs={class:"text-red-500"},zs={class:"w-full flex grow p-1 overflow-auto"},Ps={role:"sticky",ref:"loadRef"},Fs={class:"tacky w-full",style:{"white-space":"normal"}},Ws={class:"sticky top-0 !z-[2]"},Ks={key:0,class:"min-w-[50px] !w-[50px] max-w-[50px]"},Ys=e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"No",-1),Js={key:1,class:"min-w-[50px] !w-[50px] max-w-[50px]"},Es=e("th",{class:"min-w-[50px] !w-[50px] max-w-[50px]"},"ID Item",-1),Qs=e("th",null,"Nama Item",-1),Zs=e("th",{class:"min-w-[80px] !w-[80px] max-w-[80px]"},"Qty In",-1),Gs=e("th",{class:"min-w-[80px] !w-[80px] max-w-[80px]"},"Qty Out",-1),Xs=e("th",null,"Keterangan",-1),el={key:0},tl={key:0,class:"tools cell"},sl={class:"w-full h-full flex items-center justify-center"},ll=["onClick"],ol={key:1,class:"cell"},al={class:"w-full h-full flex items-center justify-center"},nl=["onClick"],il=["onClick","disabled"],cl={class:"w-full h-full flex items-center justify-center"},rl={class:"w-full h-full flex items-center justify-center"},dl={class:"cell"},ul={class:"w-full h-full flex items-center justify-center"},_l={class:"cell"},fl={class:"w-full h-full flex items-center justify-center"},pl={class:"cell"},vl={class:"w-full h-full flex items-center justify-center"},ml=["disabled","onUpdate:modelValue"],hl={key:0},yl={class:"tools cell"},wl={class:"w-full flex items-center justify-end"},jl=he({__name:"form",async setup(_){var ce,re,de;let w,k;Me();const N=le("token"),n=h({}),v=qe(),y=Te();let $={id:"",name:""};const{data:c}=([w,k]=Le(async()=>He(async()=>{const i=y.query.id;let l=null,I=null,q=null;if(i!==void 0&&i!==""){V().loading_full=!0;const{data:T,error:K,status:te}=await G("/api/transaction",{method:"get",headers:{Authorization:`Bearer ${N.value}`,Accept:"application/json"},params:{id:i},retry:0});V().loading_full=!1,te.value==="error"?Z().trigger(K,n):(l=T.value.data,q=T.value.data.details.map(L=>(L.status="Edit",L.key=L.ordinal,L)),I=T.value.data.details.map(L=>L.item.id))}return{transaction:l,exclude_lists:I,details:q}},"$RAej7t9zIe")),w=await w,k(),w),s=h(((ce=c.value)==null?void 0:ce.transaction)||{id:-1,type:"used",note:"",warehouse:{...$},warehouse_target:{...$},details:[]}),j=h(((re=c.value)==null?void 0:re.exclude_lists)||[]),m=h(((de=c.value)==null?void 0:de.details)||[]),R=h({ordinal:0,item:{id:"",name:"",unit:{id:"",name:""}},item_id:"",qty_in:0,qty_out:0,note:"",status:""}),B=h(!1),z=()=>{B.value=!1},W=i=>{m.value[M.value].item=i,m.value[M.value].item_id=i.id,j.value.push(i.id),B.value=!1},u=(i,l)=>{M.value=l,B.value=!0},r=(i,l)=>{let I=m.value[l].item.id,q=j.value.indexOf(I);q>-1&&j.value.splice(q,1),m.value[l].item_id="",m.value[l].item={id:"",name:"",unit:{id:"",name:""}}};let S=h(!1),U="";const d=i=>{i=="from"?s.value.warehouse={...$}:i=="to"&&(s.value.warehouse_target={...$})},C=i=>{U=i,S.value=!0},ee=()=>{S.value=!1},we=i=>{U=="from"?s.value.warehouse={...i}:U=="to"&&(s.value.warehouse_target={...i}),S.value=!1},xe=async()=>{V().loading_full=!0,n.value={};let i={type:s.value.type,note:s.value.note,warehouse_id:s.value.warehouse.id,warehouse_target_id:s.value.warehouse_target.id,details:JSON.stringify(m.value)};console.log(m.value);let l="post",I=y.query.id;I===""||(l="put",i.id=I);const{data:q,error:T,status:K}=await G("/api/transaction",{method:l,headers:{Authorization:`Bearer ${N.value}`,Accept:"application/json"},body:i,retry:0});if(V().loading_full=!1,K.value==="error"){Z().trigger(T,n);return}v.go(-1)},be=ue(()=>{var i,l;return((i=s.value.warehouse)==null?void 0:i.id)||((l=s.value.warehouse_target)==null?void 0:l.id)||0}),M=h(-1),E=h(!1),ie=h({left:0,top:0}),ge=(i,l)=>{M.value=l,E.value=!0,ie.value={left:i.clientX,top:i.clientY}},ke=()=>{m.value.push({...R.value,status:"Add"})},$e=()=>{E.value=!1},Se=(i="")=>{if(i=="insert")m.value.splice(M.value,0,{...R.value,status:"Add"});else if(i=="delete"){let l=m.value[M.value].item.id,I=j.value.indexOf(l);I>-1&&j.value.splice(I,1),m.value[M.value].status=="Edit"?m.value[M.value].status="Remove":m.value.splice(M.value,1)}E.value=!1},x=ue(()=>s.value.confirmed_by||s.value.ref_id!=null);return(i,l)=>{const I=je,q=se,T=Ne,K=We,te=Oe,L=Re,Ce=Be,Ie=mt,Ae=Vt,De=Pt;return o(),a(Y,null,[e("div",Ft,[b(I,{title:"Form Item",back:!0}),e("div",Wt,[e("div",Kt,[e("div",Yt,[t(s).confirmed_by?(o(),a("div",Jt,[Et,e("div",Qt,p(i.$moment(t(s).input_at).format("DD-MM-Y HH:mm:ss")),1)])):g("",!0),e("div",Zt,[Gt,A(e("select",{disabled:t(x),class:"","onUpdate:modelValue":l[0]||(l[0]=f=>t(s).type=f)},ls,8,Xt),[[J,t(s).type]]),e("p",os,p(t(n).type),1)]),e("div",as,[ns,e("div",is,[!t(s).warehouse||!t(s).warehouse.id?(o(),a("div",cs,[e("button",{onClick:l[1]||(l[1]=f=>C("from")),class:"flex items-center grow"},[b(q,{class:"text-2xl text-black"}),rs])])):t(s).ref_id==null?(o(),a("div",{key:1,class:F(["w-full flex",t(x)?"unselectable":""]),style:{}},[e("div",ds,[e("div",us,[_s,e("div",fs,p(t(s).warehouse.id),1)]),e("div",ps,[vs,e("div",ms,p(t(s).warehouse.name),1)])]),t(x)?g("",!0):(o(),a("button",{key:0,class:"w-10 bg-red-600 flex items-center justify-center",onClick:l[2]||(l[2]=f=>d("from"))},[b(T,{class:"text-2xl text-white"})]))],2)):t(s).ref_id!=null?(o(),a("div",{key:2,class:F(["w-full flex",t(x)?"unselectable":""]),style:{}},[e("div",hs,[e("div",ys,[ws,e("div",xs,p(t(s).warehouse_source.id),1)]),e("div",bs,[gs,e("div",ks,p(t(s).warehouse_source.name),1)])]),t(x)?g("",!0):(o(),a("button",{key:0,class:"w-10 bg-red-600 flex items-center justify-center",onClick:l[3]||(l[3]=f=>d("from"))},[b(T,{class:"text-2xl text-white"})]))],2)):g("",!0)]),e("p",$s,p(t(n).warehouse_id),1)]),t(s).type=="transfer"?(o(),a("div",Ss,[Cs,e("div",Is,[!t(s).warehouse_target||!t(s).warehouse_target.id?(o(),a("div",As,[e("button",{onClick:l[4]||(l[4]=f=>C("to")),class:"flex items-center grow"},[b(q,{class:"text-2xl text-black"}),Ds])])):(o(),a("div",{key:1,class:F(["w-full flex",t(x)?"unselectable":""]),style:{}},[e("div",js,[e("div",Ns,[Ms,e("div",qs,p(t(s).warehouse_target.id),1)]),e("div",Ts,[Ls,e("div",Hs,p(t(s).warehouse_target.name),1)])]),t(x)?g("",!0):(o(),a("button",{key:0,class:"w-10 bg-red-600 flex items-center justify-center",onClick:l[5]||(l[5]=f=>d("to"))},[b(T,{class:"text-2xl text-white"})]))],2))]),e("p",Os,p(t(n).warehouse_target_id),1)])):g("",!0),e("div",Rs,[Bs,A(e("textarea",{disabled:t(x),class:"","onUpdate:modelValue":l[6]||(l[6]=f=>t(s).note=f)},null,8,Us),[[Q,t(s).note]]),e("p",Vs,p(t(n).note),1)])]),e("div",zs,[e("div",Ps,[e("table",Fs,[e("thead",null,[e("tr",Ws,[t(x)?g("",!0):(o(),a("th",Ks)),Ys,t(x)?g("",!0):(o(),a("th",Js)),Es,Qs,Zs,Gs,Xs])]),e("tbody",null,[(o(!0),a(Y,null,ne(t(m),(f,P)=>(o(),a(Y,{key:P},[f.status!="Remove"?(o(),a("tr",el,[t(x)?g("",!0):(o(),a("td",tl,[e("div",sl,[e("button",{type:"button",name:"button",onClick:D=>ge(D,P)},[b(K)],8,ll)])])),e("td",null,p(P+1)+".",1),t(x)?g("",!0):(o(),a("td",ol,[e("div",al,[f.item_id?(o(),a("button",{key:1,onClick:D=>r(D,P),disabled:f.confirm_by},[b(te,{class:"font-bold text-2xl"})],8,il)):(o(),a("button",{key:0,type:"button",name:"button",onClick:D=>u(D,P)}," ... ",8,nl))])])),e("td",{class:F(["cell bold",t(x)?"unselectable":""])},[e("div",cl,p(f.item.id),1)],2),e("td",{class:F(["cell",t(x)?"unselectable":""])},[e("div",rl,p(f.item.name),1)],2),e("td",dl,[e("div",ul,[(o(),_e(L,{disabled:t(x)||t(s).type=="used"||t(s).type=="transfer",key:P,class:"w-full h-full border-black border-solid border-1 p-1",type:"text",value:f.qty_in||0,onInput:D=>f.qty_in=D},null,8,["disabled","value","onInput"]))])]),e("td",_l,[e("div",fl,[(o(),_e(L,{disabled:t(x)||t(s).type=="in",key:P,class:"w-full h-full border-black border-solid border-1 p-1",type:"text",value:f.qty_out||0,onInput:D=>f.qty_out=D},null,8,["disabled","value","onInput"]))])]),e("td",pl,[e("div",vl,[A(e("textarea",{disabled:t(x),class:"border-black border-solid border-1 p-1 w-full","onUpdate:modelValue":D=>f.note=D,cols:"7",rows:"2"},null,8,ml),[[Q,f.note]])])])])):g("",!0)],64))),128)),t(x)?g("",!0):(o(),a("tr",hl,[e("td",yl,[e("button",{type:"button",name:"button",onClick:l[7]||(l[7]=f=>ke())},[b(Ce)])])]))])])],512)])]),e("div",wl,[e("button",{type:"button",name:"button",class:"w-36 m-1",onClick:l[8]||(l[8]=f=>i.$router.go(-1))}," Cancel "),t(x)?g("",!0):(o(),a("button",{key:0,type:"button",name:"button",class:"w-36 m-1 bg-blue-600 text-white rounded-sm",onClick:l[9]||(l[9]=f=>xe())}," Save "))])])]),b(Ie,{show:t(B),fnClose:z,fnSelect:W,exclude_lists:t(j)},null,8,["show","exclude_lists"]),b(Ae,{show:t(S),fnClose:ee,fnSelect:we,opt:t(U),exclude:t(be)},null,8,["show","opt","exclude"]),b(De,{show:t(E),coor:t(ie),fn:$e,onReplyAct:l[10]||(l[10]=f=>Se(f))},null,8,["show","coor"])],64)}}});export{jl as default};

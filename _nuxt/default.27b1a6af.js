import{o as l,c,a as o,n as X,C as v,F as U,r as q,R as Q,b as r,B as a,I as j,J as ee,K as O,t as F,s as te,v as ne,h as oe,u as W,q as z,O as M,w as C,z as se,M as re,S as ae,Z as le,D as ce,d as E,_ as D,$ as P,a0 as H}from"./entry.71356530.js";import{_ as K}from"./Times.86addf59.js";import{_ as B}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as ie}from"./nuxt-link.d8be6017.js";import{_ as ue,a as de}from"./Loading.vue.9b9a4586.js";import{u as _e}from"./useMyFetch.b117a9b9.js";import"./client-only.5a314b9a.js";import"./Loading.afd2e5ec.js";const me={name:"MaterialSymbolsHome"},pe={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},ve=o("path",{fill:"currentColor",d:"M4 21V9l8-6l8 6v12h-6v-7h-4v7z"},null,-1),he=[ve];function fe(T,h,f,g,w,x){return l(),c("svg",pe,he)}const ge=B(me,[["render",fe]]),we={name:"MaterialSymbolsScale"},xe={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},$e=o("path",{fill:"currentColor",d:"M2 22q0-2.775.738-4.737T4.624 14q1.15-1.3 2.575-2.013T10 11V8q-3.425-.425-5.712-2.113T2 2h20q0 2.2-2.287 3.888T14 8v3q1.375.275 2.8.988T19.375 14q1.15 1.3 1.888 3.263T22 22h-6v-2h3.875q-.45-3.8-2.838-5.5T12 12.8q-2.65 0-5.038 1.7T4.125 20H8v2zm10 0q-.825 0-1.412-.587T10 20q0-.425.163-.775t.437-.625q.6-.6 2.025-1.263T16 16q-.7 1.95-1.35 3.375T13.4 21.4q-.275.275-.625.438T12 22"},null,-1),be=[$e];function Te(T,h,f,g,w,x){return l(),c("svg",xe,be)}const ke=B(we,[["render",Te]]),Ce={name:"GridiconsProduct"},Ee={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},ye=o("path",{fill:"currentColor",d:"M22 3H2v6h1v11a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9h1zM4 5h16v2H4zm15 15H5V9h14zM9 11h6a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2"},null,-1),Le=[ye];function Se(T,h,f,g,w,x){return l(),c("svg",Ee,Le)}const Me=B(Ce,[["render",Se]]),qe={name:"MaterialSymbolsCreditCard"},Be={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Ie=o("path",{fill:"currentColor",d:"M4 20q-.825 0-1.412-.587T2 18V6q0-.825.588-1.412T4 4h16q.825 0 1.413.588T22 6v12q0 .825-.587 1.413T20 20zm0-8h16V8H4z"},null,-1),Ve=[Ie];function ze(T,h,f,g,w,x){return l(),c("svg",Be,Ve)}const Ae=B(qe,[["render",ze]]),Re={name:"CiHamburgerMd"},De={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Pe=o("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 17h14M5 12h14M5 7h14"},null,-1),He=[Pe];function Ue(T,h,f,g,w,x){return l(),c("svg",De,He)}const Oe=B(Re,[["render",Ue]]),We={class:"w-full min-h-[2rem] flex overflow-hidden"},Xe={class:"max-h-full h-full flex absolute top-0 left-0 gap-1 items-end"},je=["data-tab_bar"],Fe=["onClick"],Ke={class:"p-1"},Ne=X({__name:"TabBar",setup(T){const{triggerSidebar:h,openDynamicComponent:f,closeDynamicComponent:g}=v(),{is_sidebar_open:w,opened_components:x,opened_component_idx:k}=U(v()),u=q(null),$=q(null),i=q({start:0,end:0}),b=e=>{i.value.start=e.changedTouches[0].clientX,e.currentTarget.addEventListener("touchmove",y),e.currentTarget.addEventListener("touchend",m),e.currentTarget.addEventListener("touchleave",m)},m=e=>{i.value.end=e.changedTouches[0].clientX,p(),e.currentTarget.removeEventListener("touchmove",y),e.currentTarget.removeEventListener("touchend",m),e.currentTarget.removeEventListener("touchleave",m)},y=e=>{i.value.end=e.changedTouches[0].clientX,p(),i.value.start=e.changedTouches[0].clientX,e.changedTouches[0].clientY>u.value.clientHeight&&(e.currentTarget.removeEventListener("touchmove",y),e.currentTarget.removeEventListener("touchend",m),e.currentTarget.removeEventListener("touchleave",m))},A=e=>{i.value.start=e.x,e.currentTarget.addEventListener("mousemove",I),e.currentTarget.addEventListener("mouseup",_),e.currentTarget.addEventListener("mouseleave",_)},_=e=>{i.value.end=e.x,p(),e.currentTarget.removeEventListener("mousemove",I),e.currentTarget.removeEventListener("mouseup",_),e.currentTarget.removeEventListener("mouseleave",_)},I=e=>{i.value.end=e.x,p(),i.value.start=e.x},p=()=>{if(u.value.clientWidth>$.value.clientWidth)return;let e=u.value.clientWidth-$.value.clientWidth,n=i.value.end-i.value.start;if(n==0)return;let t=parseFloat($.value.style.left)||0,s="";t+n>0&&(s="0px"),t+n<e&&(s=e+"px"),s==""&&(s=t+n+"px"),$.value.style.left=s},L=()=>{p()};return Q(()=>{$.value=u.value.firstChild,u.value.addEventListener("mousedown",A,{passive:!0}),u.value.addEventListener("mouseup",_,{passive:!0}),u.value.addEventListener("touchstart",b,{passive:!0}),u.value.addEventListener("touchend",m,{passive:!0}),window.addEventListener("resize",L)}),(e,n)=>{const t=Oe,s=K;return l(),c("div",We,[o("button",{class:"min-w-8 w-8 h-8 m-1 p-0 text-2xl text-black bg-slate-300 sm:hidden flex justify-center items-center",onClick:n[0]||(n[0]=V=>a(h)(!a(w)))},[r(t)]),o("div",{class:"grow w-0 h-full flex overflow-hidden relative",ref_key:"tab_bar",ref:u},[o("div",Xe,[(l(!0),c(j,null,ee(a(x),(V,d)=>(l(),c("button",{type:"button",name:"button",class:O(["flex whitespace-nowrap items-center justify-center ring-0 rounded-bl-none rounded-br-none p-0",a(k)==d?"bg-slate-600 text-white h-full":"bg-slate-400 text-black text-xs h-4/5"]),"data-tab_bar":d},[o("div",{class:"w-full h-full p-1 grid place-content-center",onClick:R=>a(f)(d)},F(V.component_title),9,Fe),o("div",Ke,[r(s,{onClick:R=>a(g)(d)},null,8,["onClick"])])],10,je))),256))])],512)])}}}),Ge={class:"w-full h-full flex"},Je={class:"relative h-full"},Ye={class:"h-full flex flex-col p-2 overflow-hidden"},Ze={class:"grow overflow-auto"},Qe={key:0,class:"pl-6"},et={key:1,class:"pl-6"},tt={key:2,class:"pl-6"},nt={id:"panel",class:"h-7 text-xs relative"},ot={class:"w-full absolute bottom-full mb-2 bg-slate-700 bg-opacity-80 cursor-pointer"},st={class:"grow flex flex-col overflow-hidden"},mt=X({__name:"default",setup(T){const h=()=>D(P(()=>H(()=>import("./index.974ec5f7.js"),["./index.974ec5f7.js","./entry.71356530.js","./entry.edcf1d4b.css","./Plus.88e102c8.js","./_plugin-vue_export-helper.c27b6911.js","./Edit.874db46a.js","./Table2Column.14f65180.js","./Delete.9208344b.js","./Signature.f2689fe7.js","./Search.20433c6d.js","./PopupMini.vue.662cadc2.js","./Times.86addf59.js","./useMyFetch.b117a9b9.js"],import.meta.url))),f=()=>D(P(()=>H(()=>import("./index.13c5377f.js"),["./index.13c5377f.js","./entry.71356530.js","./entry.edcf1d4b.css","./Plus.88e102c8.js","./_plugin-vue_export-helper.c27b6911.js","./Edit.874db46a.js","./Delete.9208344b.js","./Search.20433c6d.js","./PopupMini.vue.662cadc2.js","./Times.86addf59.js","./useMyFetch.b117a9b9.js"],import.meta.url))),g=()=>D(P(()=>H(()=>import("./index.b5987093.js"),["./index.b5987093.js","./entry.71356530.js","./entry.edcf1d4b.css","./Plus.88e102c8.js","./_plugin-vue_export-helper.c27b6911.js","./Edit.874db46a.js","./Delete.9208344b.js","./Search.20433c6d.js","./PopupMini.vue.662cadc2.js","./Times.86addf59.js","./PopupSingleImage.vue.95fcd178.js","./useUtils.100f5b4a.js","./useMyFetch.b117a9b9.js"],import.meta.url))),w=te(),x=ne(),k=q("");oe(()=>x.path,(n,t)=>{let s=n.split("/");k.value="/"+(s.length>1?s[1]:"")},{immediate:!0});const{logUserOut:u}=W(),{authenticated:$}=U(W()),{triggerSidebar:i}=v(),{is_sidebar_open:b}=U(v()),m=z("token"),y=async()=>{v().loading_full=!0;const{data:n,error:t,status:s}=await _e("/api/logout",{method:"post",headers:{Authorization:`Bearer ${m.value}`,Accept:"application/json"},retry:0});if(v().loading_full=!1,s.value==="error"){ce().trigger(t);return}else u(),v().opened_component_idx=-1,v().opened_components=[],w.push("/login")};z("username");const A=z("fullname"),_=q(!1);window.addEventListener("click",n=>{var s;const t=n.target;t instanceof Element&&((s=document==null?void 0:document.getElementById("panel"))!=null&&s.contains(t)||(_.value=!1))});const I=z("role"),p=n=>n.includes(I.value),L=async(n,t)=>{await v().setDynamicComponent(n,t),b.value=!1},e=async n=>{k.value!=n&&(k.value=n,b.value=!1)};return(n,t)=>{const s=K,V=ge,d=ie,R=ke,N=Me,G=Ae,J=Ne,Y=ue,Z=de;return l(),c(j,null,[o("div",Ge,[o("nav",{class:O([a(b)?"left-0":"right-full","bg-slate-800 h-full min-w-[150px] max-w-[150px] fixed sm:relative sm:right-0 text-white z-10"]),style:{width:"320px"}},[o("div",Je,[a(b)?(l(),c("button",{key:0,class:"absolute left-full h-12 text-2xl text-white bg-slate-800 sm:hidden ring-0 focus:ring-0 rounded-none rounded-br rounded-tr mt-1",onClick:t[0]||(t[0]=S=>a(i)(!a(b)))},[r(s)])):M("",!0),o("header",Ye,[o("ul",Ze,[o("li",{class:O(a(k)=="/"?"active":"")},[r(d,{to:"/",class:"cursor-pointer",onClick:t[1]||(t[1]=S=>e("/"))},{default:C(()=>[r(V,{class:"mr-1"}),E(" Tabs ")]),_:1})],2),p(["Super Admin","ClientPabrik","KTU","User"])?(l(),c("li",Qe,[r(d,{class:"cursor-pointer",onClick:t[2]||(t[2]=S=>L(f,"Satuan"))},{default:C(()=>[r(R,{class:"mr-1"}),E(" Satuan ")]),_:1})])):M("",!0),p(["Super Admin","ClientPabrik","KTU","User"])?(l(),c("li",et,[r(d,{class:"cursor-pointer",onClick:t[3]||(t[3]=S=>L(g,"Item"))},{default:C(()=>[r(N,{class:"mr-1"}),E(" Item ")]),_:1})])):M("",!0),p(["Super Admin","ClientPabrik","KTU","User"])?(l(),c("li",tt,[r(d,{class:"cursor-pointer",onClick:t[4]||(t[4]=S=>L(h,"Transaksi"))},{default:C(()=>[r(G,{class:"mr-1"}),E(" Transaksi ")]),_:1})])):M("",!0)]),o("div",nt,[se(o("div",ot,[r(d,{to:"/profile",class:"block w-full text-left p-2 hover:bg-slate-900"},{default:C(()=>[E(" Setting ")]),_:1}),a($)?(l(),ae(d,{key:0,class:"block w-full text-left p-2 hover:bg-slate-900",onClick:y},{default:C(()=>[E(" Logout ")]),_:1})):M("",!0)],512),[[re,a(_)]]),o("div",{class:"bg-slate-700 bg-opacity-80 p-2 cursor-pointer",onClick:t[5]||(t[5]=S=>_.value=!a(_))},F(a(A)),1)])])])],2),o("div",st,[r(J),le(n.$slots,"default")])]),r(Y),r(Z)],64)}}});export{mt as default};

import{_ as N}from"./Times.f478bf5a.js";import{_ as T}from"./_plugin-vue_export-helper.c27b6911.js";import{o as _,c as y,a as e,f as j,i as z,j as D,r as b,E as F,g as $,y as C,q as m,h as g,C as d,n as s,J as v,b as n,w as i,m as R,G,H,t as q,L as J,F as O,s as P,d as r}from"./entry.2fae35c4.js";import{_ as U}from"./nuxt-link.976ca8da.js";import{_ as W,a as K}from"./Loading.vue.125b37da.js";import{u as Q}from"./useMyFetch.80de82e1.js";import"./client-only.1279eae0.js";import"./Loading.25454d5f.js";const X={name:"CiHamburgerMd"},Y={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},Z=e("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 17h14M5 12h14M5 7h14"},null,-1),tt=[Z];function et(S,h,x,o,k,w){return _(),y("svg",Y,tt)}const st=T(X,[["render",et]]),ot={class:"w-full h-full flex"},at={class:"relative h-full"},nt={class:"h-full flex flex-col p-2 overflow-hidden"},lt={class:"grow overflow-auto"},it={id:"panel",class:"h-7 text-xs relative"},rt={class:"w-full absolute bottom-full mb-2 bg-slate-700 bg-opacity-80 cursor-pointer"},ut={class:"grow flex flex-col overflow-hidden"},ht=j({__name:"default",setup(S){const h=z(),x=D(),o=b("");F(()=>x.path,(u,t)=>{let a=u.split("/");o.value="/"+(a.length>1?a[1]:"")},{immediate:!0});const{logUserOut:k}=$(),{authenticated:w}=C($()),{triggerSidebar:B}=m(),{is_sidebar_open:p}=C(m()),E=g("token"),L=async()=>{m().loading_full=!0;const{data:u,error:t,status:a}=await Q("/api/logout",{method:"post",headers:{Authorization:`Bearer ${E.value}`,Accept:"application/json"},retry:0});if(m().loading_full=!1,a.value==="error"){P().trigger(t);return}else k(),h.push("/login")};g("username");const M=g("fullname"),f=b(!1);return window.addEventListener("click",u=>{var a;const t=u.target;t instanceof Element&&((a=document==null?void 0:document.getElementById("panel"))!=null&&a.contains(t)||(f.value=!1))}),(u,t)=>{const a=N,V=st,l=U,A=W,I=K;return _(),y(O,null,[e("div",ot,[e("nav",{class:d([s(p)?"left-0":"right-full","bg-slate-800 h-full min-w-[150px] max-w-[150px] fixed sm:relative sm:right-0 text-white z-10"]),style:{width:"320px"}},[e("div",at,[e("button",{class:"absolute left-full h-12 text-2xl text-white bg-slate-500 sm:hidden",onClick:t[0]||(t[0]=c=>s(B)(!s(p)))},[s(p)?(_(),v(a,{key:0})):(_(),v(V,{key:1}))]),e("header",nt,[e("ul",lt,[e("li",{class:d(s(o)=="/"?"active":"")},[n(l,{to:"/",onClick:t[1]||(t[1]=c=>o.value="/")},{default:i(()=>[r("Dashboard")]),_:1})],2),e("li",{class:d(s(o)=="/data_satuan"?"active":"")},[n(l,{to:"/data_satuan",onClick:t[2]||(t[2]=c=>o.value="/data_satuan")},{default:i(()=>[r("Satuan")]),_:1})],2),e("li",{class:d(s(o)=="/data_gudang"?"active":"")},[n(l,{to:"/data_gudang",onClick:t[3]||(t[3]=c=>o.value="/data_gudang")},{default:i(()=>[r("Gudang")]),_:1})],2),e("li",{class:d(s(o)=="/data_item"?"active":"")},[n(l,{to:"/data_item",onClick:t[4]||(t[4]=c=>o.value="/data_item")},{default:i(()=>[r("Item")]),_:1})],2),e("li",{class:d(s(o)=="/data_transaksi"?"active":"")},[n(l,{to:"/data_transaksi",onClick:t[5]||(t[5]=c=>o.value="/data_transaksi")},{default:i(()=>[r("Transaksi")]),_:1})],2)]),e("div",it,[R(e("div",rt,[n(l,{to:"/profile",class:"block w-full text-left p-2 hover:bg-slate-900"},{default:i(()=>[r(" Setting ")]),_:1}),s(w)?(_(),v(l,{key:0,class:"block w-full text-left p-2 hover:bg-slate-900",onClick:L},{default:i(()=>[r(" Logout ")]),_:1})):H("",!0)],512),[[G,s(f)]]),e("div",{class:"bg-slate-700 bg-opacity-80 p-2 cursor-pointer",onClick:t[6]||(t[6]=c=>f.value=!s(f))},q(s(M)),1)])])])],2),e("div",ut,[J(u.$slots,"default")])]),n(A),n(I)],64)}}});export{ht as default};
